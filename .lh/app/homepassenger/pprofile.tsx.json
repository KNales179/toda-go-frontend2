{
    "sourceFile": "app/homepassenger/pprofile.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 151,
            "patches": [
                {
                    "date": 1748350378755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748350521837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,12 +8,12 @@\n   return (\r\n     <View style={styles.container}>\r\n         <Text>Passenger Profile Page</Text>\r\n         <View style={styles.bottomNav}>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n             <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n             <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person-outline\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n         </View>\r\n     </View>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1748355846259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,68 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image } from \"react-native\";\r\n+import { Ionicons } from \"@expo/vector-icons\";\r\n+import { router } from 'expo-router';\r\n+import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import { API_BASE_URL } from \"../../config\";\r\n+\r\n+const { width } = Dimensions.get(\"window\");\r\n+\r\n+export default function PProfile() {\r\n+  const [profile, setProfile] = useState<any>(null);\r\n+\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+        const result = await response.json();\r\n+        if (result.passenger) {\r\n+          setProfile(result.passenger);\r\n+        } else {\r\n+          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <View style={styles.container}>\r\n+      <Text style={styles.heading}>PROFILE</Text>\r\n+      {profile ? (\r\n+        <>\r\n+          {profile.profileImage && (\r\n+            <Image\r\n+              source={{ uri: `${API_BASE_URL}/${profile.profileImage}` }}\r\n+              style={styles.profileImage}\r\n+            />\r\n+          )}\r\n+          <Text style={styles.info}>Name: {profile.firstname} {profile.middleName} {profile.lastname}</Text>\r\n+          <Text style={styles.info}>Email: {profile.email}</Text>\r\n+          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n+          <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n+        </>\r\n+      ) : (\r\n+        <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n+      )}\r\n+\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+      </View>\r\n+    </View>\r\n+  );\r\n+}\r\n+\r\n+const styles = StyleSheet.create({\r\n+  container: { flex: 1, justifyContent: 'center', alignItems: 'center', paddingHorizontal: 20 },\r\n+  heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n+  info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+});\r\n"
                },
                {
                    "date": 1748355990787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               source={{ uri: `${API_BASE_URL}/${profile.profileImage}` }}\r\n               style={styles.profileImage}\r\n             />\r\n           )}\r\n-          <Text style={styles.info}>Name: {profile.firstname} {profile.middleName} {profile.lastname}</Text>\r\n+          <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n           <Text style={styles.info}>Email: {profile.email}</Text>\r\n           <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n           <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n         </>\r\n@@ -65,28 +65,4 @@\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n   info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n-import React from 'react';\r\n-import { View, Text, StyleSheet, TouchableOpacity, Dimensions } from 'react-native';\r\n-import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n-import { router } from 'expo-router'; \r\n-const { width, height } = Dimensions.get(\"window\");\r\n-\r\n-export default function PHistory() {\r\n-  return (\r\n-    <View style={styles.container}>\r\n-        <Text>Passenger Profile Page</Text>\r\n-        <View style={styles.bottomNav}>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-        </View>\r\n-    </View>\r\n-  );\r\n-}\r\n-\r\n-const styles = StyleSheet.create({\r\n-  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n"
                },
                {
                    "date": 1748356245586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n             />\r\n           )}\r\n           <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n           <Text style={styles.info}>Email: {profile.email}</Text>\r\n-          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n+          <Text style={styles.info}>Phone: {profile.contact || \"Not Provide\"}</Text>\r\n           <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n         </>\r\n       ) : (\r\n         <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n"
                },
                {
                    "date": 1748356682885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,18 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n   useEffect(() => {\r\n     const fetchProfile = async () => {\r\n       try {\r\n@@ -28,22 +31,125 @@\n \r\n     fetchProfile();\r\n   }, []);\r\n \r\n+  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const cameraResult = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+              setFunc(cameraResult.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+              setFunc(galleryResult.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+          const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+            setFunc(cameraResult.assets[0]);\r\n+          }\r\n+        }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+            setFunc(galleryResult.assets[0]);\r\n+          }\r\n+        }},\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        // Refresh profile\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.passenger);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n     <View style={styles.container}>\r\n       <Text style={styles.heading}>PROFILE</Text>\r\n+      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n+        <Image\r\n+          source={\r\n+            profile?.profileImage\r\n+              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n+              : require(\"../../assets/images/profile-placeholder.png\")\r\n+          }\r\n+          style={styles.profileImage}\r\n+        />\r\n+      </TouchableOpacity>\r\n+\r\n+      {profileImage && (\r\n+        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+        </TouchableOpacity>\r\n+      )}\r\n+\r\n       {profile ? (\r\n         <>\r\n-          {profile.profileImage && (\r\n-            <Image\r\n-              source={{ uri: `${API_BASE_URL}/${profile.profileImage}` }}\r\n-              style={styles.profileImage}\r\n-            />\r\n-          )}\r\n           <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n           <Text style={styles.info}>Email: {profile.email}</Text>\r\n-          <Text style={styles.info}>Phone: {profile.contact || \"Not Provide\"}</Text>\r\n+          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n           <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n         </>\r\n       ) : (\r\n         <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n@@ -64,5 +170,6 @@\n   heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n   info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n });\r\n"
                },
                {
                    "date": 1748356695633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,15 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n-import * as ImagePicker from \"expo-image-picker\";\r\n-import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n-  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n   useEffect(() => {\r\n     const fetchProfile = async () => {\r\n       try {\r\n@@ -31,122 +28,19 @@\n \r\n     fetchProfile();\r\n   }, []);\r\n \r\n-  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n-    if (Platform.OS === \"ios\") {\r\n-      ActionSheetIOS.showActionSheetWithOptions(\r\n-        {\r\n-          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n-          cancelButtonIndex: 2,\r\n-        },\r\n-        async (buttonIndex) => {\r\n-          if (buttonIndex === 0) {\r\n-            const cameraResult = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-              setFunc(cameraResult.assets[0]);\r\n-            }\r\n-          } else if (buttonIndex === 1) {\r\n-            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-              setFunc(galleryResult.assets[0]);\r\n-            }\r\n-          }\r\n-        }\r\n-      );\r\n-    } else {\r\n-      Alert.alert(\"Select Option\", \"\", [\r\n-        { text: \"Take a Photo\", onPress: async () => {\r\n-          const cameraResult = await ImagePicker.launchCameraAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-            setFunc(cameraResult.assets[0]);\r\n-          }\r\n-        }},\r\n-        { text: \"Choose from Gallery\", onPress: async () => {\r\n-          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-            setFunc(galleryResult.assets[0]);\r\n-          }\r\n-        }},\r\n-        { text: \"Cancel\", style: \"cancel\" },\r\n-      ]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const formData = new FormData();\r\n-      formData.append(\"profileImage\", {\r\n-        uri: profileImage.uri,\r\n-        name: \"profile.jpg\",\r\n-        type: \"image/jpeg\",\r\n-      } as any);\r\n-\r\n-      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n-        body: formData,\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        // Refresh profile\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.passenger);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n   return (\r\n     <View style={styles.container}>\r\n       <Text style={styles.heading}>PROFILE</Text>\r\n-      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n-        <Image\r\n-          source={\r\n-            profile?.profileImage\r\n-              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n-              : require(\"../../assets/images/profile-placeholder.png\")\r\n-          }\r\n-          style={styles.profileImage}\r\n-        />\r\n-      </TouchableOpacity>\r\n-\r\n-      {profileImage && (\r\n-        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-        </TouchableOpacity>\r\n-      )}\r\n-\r\n       {profile ? (\r\n         <>\r\n+          {profile.profileImage && (\r\n+            <Image\r\n+              source={{ uri: `${API_BASE_URL}/${profile.profileImage}` }}\r\n+              style={styles.profileImage}\r\n+            />\r\n+          )}\r\n           <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n           <Text style={styles.info}>Email: {profile.email}</Text>\r\n           <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n           <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n@@ -170,6 +64,5 @@\n   heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n   info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n });\r\n"
                },
                {
                    "date": 1748356705541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,18 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n   useEffect(() => {\r\n     const fetchProfile = async () => {\r\n       try {\r\n@@ -28,19 +31,122 @@\n \r\n     fetchProfile();\r\n   }, []);\r\n \r\n+  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const cameraResult = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+              setFunc(cameraResult.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+              setFunc(galleryResult.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+          const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+            setFunc(cameraResult.assets[0]);\r\n+          }\r\n+        }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+            setFunc(galleryResult.assets[0]);\r\n+          }\r\n+        }},\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        // Refresh profile\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.passenger);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n     <View style={styles.container}>\r\n       <Text style={styles.heading}>PROFILE</Text>\r\n+      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n+        <Image\r\n+          source={\r\n+            profile?.profileImage\r\n+              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n+              : require(\"../../assets/images/profile-placeholder.png\")\r\n+          }\r\n+          style={styles.profileImage}\r\n+        />\r\n+      </TouchableOpacity>\r\n+\r\n+      {profileImage && (\r\n+        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+        </TouchableOpacity>\r\n+      )}\r\n+\r\n       {profile ? (\r\n         <>\r\n-          {profile.profileImage && (\r\n-            <Image\r\n-              source={{ uri: `${API_BASE_URL}/${profile.profileImage}` }}\r\n-              style={styles.profileImage}\r\n-            />\r\n-          )}\r\n           <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n           <Text style={styles.info}>Email: {profile.email}</Text>\r\n           <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n           <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n@@ -64,5 +170,6 @@\n   heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n   info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n });\r\n"
                },
                {
                    "date": 1748356765545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         <Image\r\n           source={\r\n             profile?.profileImage\r\n               ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n-              : require(\"../../assets/images/profile-placeholder.png\")\r\n+              : require(\"../../assets/images/profile-placeholder.jpg\")\r\n           }\r\n           style={styles.profileImage}\r\n         />\r\n       </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748402315090,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,8 +92,9 @@\n     if (!profileImage) {\r\n       Alert.alert(\"Error\", \"Please select an image first.\");\r\n       return;\r\n     }\r\n+    console.log(\"üì∑ Picked profile image:\", profileImage);\r\n \r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n       const formData = new FormData();\r\n"
                },
                {
                    "date": 1748402351873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,8 +70,9 @@\n             quality: 1,\r\n           });\r\n           if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n             setFunc(cameraResult.assets[0]);\r\n+            console.log(\"üì∑ Picked profile image:\", cameraResult.assets[0]);\r\n           }\r\n         }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n           const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n"
                },
                {
                    "date": 1748402380523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,11 @@\n       <Text style={styles.heading}>PROFILE</Text>\r\n       <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n         <Image\r\n           source={\r\n-            profile?.profileImage\r\n+            profileImage\r\n+              ? { uri: profileImage.uri }\r\n+              : profile?.profileImage\r\n               ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n               : require(\"../../assets/images/profile-placeholder.jpg\")\r\n           }\r\n           style={styles.profileImage}\r\n"
                },
                {
                    "date": 1748402917881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n         method: \"PATCH\",\r\n         body: formData,\r\n         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n-\r\n+      console.log(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n         // Refresh profile\r\n         const updatedProfile = await res.json();\r\n"
                },
                {
                    "date": 1748403305580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,8 @@\n     if (!profileImage) {\r\n       Alert.alert(\"Error\", \"Please select an image first.\");\r\n       return;\r\n     }\r\n-    console.log(\"üì∑ Picked profile image:\", profileImage);\r\n \r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n       const formData = new FormData();\r\n@@ -103,9 +102,9 @@\n         uri: profileImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-\r\n+      console.log(\"Sending formData:\", formData);\r\n       const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n"
                },
                {
                    "date": 1748404093327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,9 +103,9 @@\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n       console.log(\"Sending formData:\", formData);\r\n-      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n"
                },
                {
                    "date": 1748404101342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,9 @@\n         method: \"PATCH\",\r\n         body: formData,\r\n         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n-      console.log(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`)\r\n+      console.log(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n         // Refresh profile\r\n         const updatedProfile = await res.json();\r\n"
                },
                {
                    "date": 1748407189858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,8 @@\n       console.log(\"Sending formData:\", formData);\r\n       const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n       console.log(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n"
                },
                {
                    "date": 1748408436753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,14 +102,12 @@\n         uri: profileImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-      console.log(\"Sending formData:\", formData);\r\n       const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n       });\r\n-      console.log(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n         // Refresh profile\r\n         const updatedProfile = await res.json();\r\n"
                },
                {
                    "date": 1748408826380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,33 +5,36 @@\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-        const result = await response.json();\r\n-        if (result.passenger) {\r\n-          setProfile(result.passenger);\r\n-        } else {\r\n-          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n+      } else {\r\n+        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n       }\r\n-    };\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n \r\n-    fetchProfile();\r\n-  }, []);\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n \r\n   const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n"
                },
                {
                    "date": 1748408946998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,36 +5,33 @@\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n-import { useFocusEffect } from \"@react-navigation/native\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n-  const fetchProfile = async () => {\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-      const result = await response.json();\r\n-      if (result.passenger) {\r\n-        setProfile(result.passenger);\r\n-      } else {\r\n-        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+        const result = await response.json();\r\n+        if (result.passenger) {\r\n+          setProfile(result.passenger);\r\n+        } else {\r\n+          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n       }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n-    }\r\n-  };\r\n+    };\r\n \r\n-  useFocusEffect(\r\n-    React.useCallback(() => {\r\n-      fetchProfile();\r\n-    }, [])\r\n-  );\r\n+    fetchProfile();\r\n+  }, []);\r\n \r\n   const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n"
                },
                {
                    "date": 1748410760223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,33 +5,37 @@\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+  console.log(profile)\r\n \r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-        const result = await response.json();\r\n-        if (result.passenger) {\r\n-          setProfile(result.passenger);\r\n-        } else {\r\n-          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n+      } else {\r\n+        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n       }\r\n-    };\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n \r\n-    fetchProfile();\r\n-  }, []);\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n \r\n   const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n"
                },
                {
                    "date": 1748411078608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n-  console.log(profile)\r\n+  console.log(profile.profileImage)\r\n \r\n   const fetchProfile = async () => {\r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n"
                },
                {
                    "date": 1748411106146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,8 @@\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n-  console.log(profile.profileImage)\r\n \r\n   const fetchProfile = async () => {\r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n"
                },
                {
                    "date": 1748411326931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,10 +20,8 @@\n       const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n       const result = await response.json();\r\n       if (result.passenger) {\r\n         setProfile(result.passenger);\r\n-      } else {\r\n-        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n       }\r\n     } catch (error) {\r\n       console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n     }\r\n@@ -34,60 +32,59 @@\n       fetchProfile();\r\n     }, [])\r\n   );\r\n \r\n-  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n+  const pickSelfieImage = async () => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n         {\r\n           options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n           cancelButtonIndex: 2,\r\n         },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-              setFunc(cameraResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           } else if (buttonIndex === 1) {\r\n-            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-              setFunc(galleryResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n         { text: \"Take a Photo\", onPress: async () => {\r\n-          const cameraResult = await ImagePicker.launchCameraAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-            setFunc(cameraResult.assets[0]);\r\n-            console.log(\"üì∑ Picked profile image:\", cameraResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n-          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-            setFunc(galleryResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -111,9 +108,8 @@\n         body: formData,\r\n       });\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        // Refresh profile\r\n         const updatedProfile = await res.json();\r\n         setProfile(updatedProfile.passenger);\r\n         setProfileImage(null);\r\n       } else {\r\n@@ -126,39 +122,45 @@\n   };\r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <Text style={styles.heading}>PROFILE</Text>\r\n-      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n-        <Image\r\n-          source={\r\n-            profileImage\r\n-              ? { uri: profileImage.uri }\r\n-              : profile?.profileImage\r\n-              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n-              : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-          }\r\n-          style={styles.profileImage}\r\n-        />\r\n-      </TouchableOpacity>\r\n+      <View style={styles.profileContainer}>\r\n+        <TouchableOpacity onPress={pickSelfieImage}>\r\n+          <Image\r\n+            source={\r\n+              profileImage\r\n+                ? { uri: profileImage.uri }\r\n+                : profile?.profileImage\r\n+                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+            }\r\n+            style={styles.profileImage}\r\n+          />\r\n+        </TouchableOpacity>\r\n+        <Text style={styles.username}>{profile?.firstName} {profile?.lastName}</Text>\r\n+        {profileImage && (\r\n+          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+          </TouchableOpacity>\r\n+        )}\r\n+      </View>\r\n \r\n-      {profileImage && (\r\n-        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n+\r\n+        <TouchableOpacity style={styles.deleteButton}>\r\n+          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n         </TouchableOpacity>\r\n-      )}\r\n+      </View>\r\n \r\n-      {profile ? (\r\n-        <>\r\n-          <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n-          <Text style={styles.info}>Email: {profile.email}</Text>\r\n-          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n-          <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n-        </>\r\n-      ) : (\r\n-        <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n-      )}\r\n-\r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n@@ -168,11 +170,18 @@\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n-  container: { flex: 1, justifyContent: 'center', alignItems: 'center', paddingHorizontal: 20 },\r\n-  heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n-  info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n });\r\n+\r\n"
                },
                {
                    "date": 1748411544680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n-import { Ionicons } from \"@expo/vector-icons\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, ScrollView } from \"react-native\";\r\n+import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n@@ -20,8 +20,10 @@\n       const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n       const result = await response.json();\r\n       if (result.passenger) {\r\n         setProfile(result.passenger);\r\n+      } else {\r\n+        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n       }\r\n     } catch (error) {\r\n       console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n     }\r\n@@ -32,59 +34,59 @@\n       fetchProfile();\r\n     }, [])\r\n   );\r\n \r\n-  const pickSelfieImage = async () => {\r\n+  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n         {\r\n           options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n           cancelButtonIndex: 2,\r\n         },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n+            const cameraResult = await ImagePicker.launchCameraAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n+            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+              setFunc(cameraResult.assets[0]);\r\n             }\r\n           } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n+            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n+            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+              setFunc(galleryResult.assets[0]);\r\n             }\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n         { text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n+          const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+            setFunc(cameraResult.assets[0]);\r\n+          }\r\n+        }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n+          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+            setFunc(galleryResult.assets[0]);\r\n+          }\r\n+        }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -122,44 +124,45 @@\n   };\r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <View style={styles.profileContainer}>\r\n-        <TouchableOpacity onPress={pickSelfieImage}>\r\n-          <Image\r\n-            source={\r\n-              profileImage\r\n-                ? { uri: profileImage.uri }\r\n-                : profile?.profileImage\r\n-                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-            }\r\n-            style={styles.profileImage}\r\n-          />\r\n-        </TouchableOpacity>\r\n-        <Text style={styles.username}>{profile?.firstName} {profile?.lastName}</Text>\r\n-        {profileImage && (\r\n-          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+      <ScrollView contentContainerStyle={styles.scrollContent}>\r\n+        <View style={styles.profileContainer}>\r\n+          <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                  ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n+                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n           </TouchableOpacity>\r\n-        )}\r\n-      </View>\r\n+          <Text style={styles.userName}>{profile ? `${profile.firstName} ${profile.middleName} ${profile.lastName}` : \"User Name\"}</Text>\r\n+          {profileImage && (\r\n+            <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+              <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+            </TouchableOpacity>\r\n+          )}\r\n+        </View>\r\n \r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <View style={styles.accountSection}>\r\n+          <Text style={styles.sectionTitle}>My Account</Text>\r\n+          {renderRow(\"Full Name\", `${profile?.firstName || \"\"} ${profile?.middleName || \"\"} ${profile?.lastName || \"\"}`)}\r\n+          {renderRow(\"Gender\", profile?.gender || \"Not Provided\")}\r\n+          {renderRow(\"Age\", profile?.age?.toString() || \"Not Provided\")}\r\n+          {renderRow(\"Contact Number\", profile?.contact || \"Not Provided\")}\r\n+          {renderRow(\"Email Address\", profile?.email || \"Not Provided\")}\r\n+          {renderRow(\"Emergency Contacts\", \"Not Provided\")}\r\n+        </View>\r\n \r\n-        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n-\r\n-        <TouchableOpacity style={styles.deleteButton}>\r\n-          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+        <TouchableOpacity style={styles.deleteAccountContainer}>\r\n+          <MaterialIcons name=\"delete\" size={24} color=\"red\" />\r\n+          <Text style={styles.deleteAccountText}>Delete Account</Text>\r\n         </TouchableOpacity>\r\n-      </View>\r\n+      </ScrollView>\r\n \r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n@@ -169,19 +172,28 @@\n     </View>\r\n   );\r\n }\r\n \r\n+const renderRow = (label: string, value: string) => (\r\n+  <TouchableOpacity style={styles.row}>\r\n+    <Text style={styles.label}>{label}:</Text>\r\n+    <Text style={styles.value}>{value}</Text>\r\n+    <Ionicons name=\"chevron-forward-outline\" size={20} color=\"#888\" />\r\n+  </TouchableOpacity>\r\n+);\r\n+\r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50 },\r\n+  scrollContent: { padding: 20 },\r\n+  profileContainer: { alignItems: \"center\", marginBottom: 20 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n+  userName: { fontWeight: \"bold\", fontSize: 16 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20 },\r\n+  accountSection: { marginTop: 20 },\r\n+  row: { flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\", paddingVertical: 12, borderBottomWidth: 1, borderColor: \"#eee\" },\r\n+  label: { color: \"#888\" },\r\n+  value: { flex: 1, marginLeft: 10, fontWeight: \"bold\" },\r\n+  deleteAccountContainer: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\", marginTop: 20 },\r\n+  deleteAccountText: { color: \"red\", marginLeft: 5, fontWeight: \"bold\" },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n-\r\n"
                },
                {
                    "date": 1748411551624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, ScrollView } from \"react-native\";\r\n-import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n@@ -20,10 +20,8 @@\n       const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n       const result = await response.json();\r\n       if (result.passenger) {\r\n         setProfile(result.passenger);\r\n-      } else {\r\n-        console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n       }\r\n     } catch (error) {\r\n       console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n     }\r\n@@ -34,59 +32,59 @@\n       fetchProfile();\r\n     }, [])\r\n   );\r\n \r\n-  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n+  const pickSelfieImage = async () => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n         {\r\n           options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n           cancelButtonIndex: 2,\r\n         },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-              setFunc(cameraResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           } else if (buttonIndex === 1) {\r\n-            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-              setFunc(galleryResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n         { text: \"Take a Photo\", onPress: async () => {\r\n-          const cameraResult = await ImagePicker.launchCameraAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-            setFunc(cameraResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n-          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-            setFunc(galleryResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -124,45 +122,44 @@\n   };\r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <ScrollView contentContainerStyle={styles.scrollContent}>\r\n-        <View style={styles.profileContainer}>\r\n-          <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n-            <Image\r\n-              source={\r\n-                profileImage\r\n-                  ? { uri: profileImage.uri }\r\n-                  : profile?.profileImage\r\n-                  ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n-                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-              }\r\n-              style={styles.profileImage}\r\n-            />\r\n+      <View style={styles.profileContainer}>\r\n+        <TouchableOpacity onPress={pickSelfieImage}>\r\n+          <Image\r\n+            source={\r\n+              profileImage\r\n+                ? { uri: profileImage.uri }\r\n+                : profile?.profileImage\r\n+                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+            }\r\n+            style={styles.profileImage}\r\n+          />\r\n+        </TouchableOpacity>\r\n+        <Text style={styles.username}>{profile?.firstName} {profile?.lastName}</Text>\r\n+        {profileImage && (\r\n+          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n-          <Text style={styles.userName}>{profile ? `${profile.firstName} ${profile.middleName} ${profile.lastName}` : \"User Name\"}</Text>\r\n-          {profileImage && (\r\n-            <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-              <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-            </TouchableOpacity>\r\n-          )}\r\n-        </View>\r\n+        )}\r\n+      </View>\r\n \r\n-        <View style={styles.accountSection}>\r\n-          <Text style={styles.sectionTitle}>My Account</Text>\r\n-          {renderRow(\"Full Name\", `${profile?.firstName || \"\"} ${profile?.middleName || \"\"} ${profile?.lastName || \"\"}`)}\r\n-          {renderRow(\"Gender\", profile?.gender || \"Not Provided\")}\r\n-          {renderRow(\"Age\", profile?.age?.toString() || \"Not Provided\")}\r\n-          {renderRow(\"Contact Number\", profile?.contact || \"Not Provided\")}\r\n-          {renderRow(\"Email Address\", profile?.email || \"Not Provided\")}\r\n-          {renderRow(\"Emergency Contacts\", \"Not Provided\")}\r\n-        </View>\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n \r\n-        <TouchableOpacity style={styles.deleteAccountContainer}>\r\n-          <MaterialIcons name=\"delete\" size={24} color=\"red\" />\r\n-          <Text style={styles.deleteAccountText}>Delete Account</Text>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n+\r\n+        <TouchableOpacity style={styles.deleteButton}>\r\n+          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n         </TouchableOpacity>\r\n-      </ScrollView>\r\n+      </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n@@ -172,28 +169,19 @@\n     </View>\r\n   );\r\n }\r\n \r\n-const renderRow = (label: string, value: string) => (\r\n-  <TouchableOpacity style={styles.row}>\r\n-    <Text style={styles.label}>{label}:</Text>\r\n-    <Text style={styles.value}>{value}</Text>\r\n-    <Ionicons name=\"chevron-forward-outline\" size={20} color=\"#888\" />\r\n-  </TouchableOpacity>\r\n-);\r\n-\r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  scrollContent: { padding: 20 },\r\n-  profileContainer: { alignItems: \"center\", marginBottom: 20 },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  userName: { fontWeight: \"bold\", fontSize: 16 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  accountSection: { marginTop: 20 },\r\n-  row: { flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\", paddingVertical: 12, borderBottomWidth: 1, borderColor: \"#eee\" },\r\n-  label: { color: \"#888\" },\r\n-  value: { flex: 1, marginLeft: 10, fontWeight: \"bold\" },\r\n-  deleteAccountContainer: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\", marginTop: 20 },\r\n-  deleteAccountText: { color: \"red\", marginLeft: 5, fontWeight: \"bold\" },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n+\r\n"
                },
                {
                    "date": 1748411591940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,8 @@\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20 },\r\n+  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20, width: width},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748411682214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,8 @@\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", alignItems: \"center\", marginTop: 20, width: width},\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748411711014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,8 @@\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width},\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width, marginLeft: -20},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748411742078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,8 @@\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width, marginLeft: -20},\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-20},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748411747467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,8 +180,8 @@\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-20},\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748411898150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n }\r\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50 },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\" },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748411965072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -170,10 +170,10 @@\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n-  container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\" },\r\n+  container: {paddingHorizontal:20, flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748411988685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -170,10 +170,10 @@\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n-  container: {paddingHorizontal:20, flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", },\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:10 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748412000151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n }\r\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:10 },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748412018314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10, paddingRight:20 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n"
                },
                {
                    "date": 1748412026899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10, paddingRight:20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10, paddingRight:30 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n"
                },
                {
                    "date": 1748412049540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,10 +172,10 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10, paddingRight:30 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n"
                },
                {
                    "date": 1748412079596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,9 +135,9 @@\n             }\r\n             style={styles.profileImage}\r\n           />\r\n         </TouchableOpacity>\r\n-        <Text style={styles.username}>{profile?.firstName} {profile?.lastName}</Text>\r\n+        <Text style={styles.username}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748412126465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,8 +150,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n"
                },
                {
                    "date": 1748412183154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,86 +5,86 @@\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n-import { useFocusEffect } from \"@react-navigation/native\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n-  const fetchProfile = async () => {\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-      const result = await response.json();\r\n-      if (result.passenger) {\r\n-        setProfile(result.passenger);\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+        const result = await response.json();\r\n+        if (result.passenger) {\r\n+          setProfile(result.passenger);\r\n+        } else {\r\n+          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n       }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n-    }\r\n-  };\r\n+    };\r\n \r\n-  useFocusEffect(\r\n-    React.useCallback(() => {\r\n-      fetchProfile();\r\n-    }, [])\r\n-  );\r\n+    fetchProfile();\r\n+  }, []);\r\n \r\n-  const pickSelfieImage = async () => {\r\n+  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n         {\r\n           options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n           cancelButtonIndex: 2,\r\n         },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n+            const cameraResult = await ImagePicker.launchCameraAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n+            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+              setFunc(cameraResult.assets[0]);\r\n             }\r\n           } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n+            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n+            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+              setFunc(galleryResult.assets[0]);\r\n             }\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n         { text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n+          const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n+            setFunc(cameraResult.assets[0]);\r\n+            console.log(\"üì∑ Picked profile image:\", cameraResult.assets[0]);\r\n+          }\r\n+        }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n+          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+            allowsEditing: true,\r\n+            quality: 1,\r\n+          });\r\n+          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n+            setFunc(galleryResult.assets[0]);\r\n+          }\r\n+        }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -102,14 +102,19 @@\n         uri: profileImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n+      \r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n+      console.log(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        // Refresh profile\r\n         const updatedProfile = await res.json();\r\n         setProfile(updatedProfile.passenger);\r\n         setProfileImage(null);\r\n       } else {\r\n@@ -122,46 +127,39 @@\n   };\r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <View style={styles.profileContainer}>\r\n-        <TouchableOpacity onPress={pickSelfieImage}>\r\n-          <Image\r\n-            source={\r\n-              profileImage\r\n-                ? { uri: profileImage.uri }\r\n-                : profile?.profileImage\r\n-                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-            }\r\n-            style={styles.profileImage}\r\n-          />\r\n+      <Text style={styles.heading}>PROFILE</Text>\r\n+      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n+        <Image\r\n+          source={\r\n+            profileImage\r\n+              ? { uri: profileImage.uri }\r\n+              : profile?.profileImage\r\n+              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n+              : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+          }\r\n+          style={styles.profileImage}\r\n+        />\r\n+      </TouchableOpacity>\r\n+\r\n+      {profileImage && (\r\n+        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n         </TouchableOpacity>\r\n-        <Text style={styles.username}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n-        {profileImage && (\r\n-          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-          </TouchableOpacity>\r\n-        )}\r\n-      </View>\r\n+      )}\r\n \r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n+      {profile ? (\r\n+        <>\r\n+          <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n+          <Text style={styles.info}>Email: {profile.email}</Text>\r\n+          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n+          <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n+        </>\r\n+      ) : (\r\n+        <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n+      )}\r\n \r\n-        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n-\r\n-        <TouchableOpacity style={styles.deleteButton}>\r\n-          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-        </TouchableOpacity>\r\n-      </View>\r\n-\r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n@@ -171,18 +169,11 @@\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n-  container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  container: { flex: 1, justifyContent: 'center', alignItems: 'center', paddingHorizontal: 20 },\r\n+  heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n+  info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n-\r\n"
                },
                {
                    "date": 1748412194607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,86 +5,86 @@\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-        const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-        const result = await response.json();\r\n-        if (result.passenger) {\r\n-          setProfile(result.passenger);\r\n-        } else {\r\n-          console.warn(\"‚ö†Ô∏è Passenger not found\");\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n       }\r\n-    };\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n \r\n-    fetchProfile();\r\n-  }, []);\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n \r\n-  const pickSelfieImage = async (setFunc: (img: ImagePickerAsset) => void) => {\r\n+  const pickSelfieImage = async () => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n         {\r\n           options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n           cancelButtonIndex: 2,\r\n         },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const cameraResult = await ImagePicker.launchCameraAsync({\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-              setFunc(cameraResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           } else if (buttonIndex === 1) {\r\n-            const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n               mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n               allowsEditing: true,\r\n               quality: 1,\r\n             });\r\n-            if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-              setFunc(galleryResult.assets[0]);\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n             }\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n         { text: \"Take a Photo\", onPress: async () => {\r\n-          const cameraResult = await ImagePicker.launchCameraAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!cameraResult.canceled && cameraResult.assets.length > 0) {\r\n-            setFunc(cameraResult.assets[0]);\r\n-            console.log(\"üì∑ Picked profile image:\", cameraResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Choose from Gallery\", onPress: async () => {\r\n-          const galleryResult = await ImagePicker.launchImageLibraryAsync({\r\n-            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-            allowsEditing: true,\r\n-            quality: 1,\r\n-          });\r\n-          if (!galleryResult.canceled && galleryResult.assets.length > 0) {\r\n-            setFunc(galleryResult.assets[0]);\r\n-          }\r\n-        }},\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -102,19 +102,14 @@\n         uri: profileImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-      \r\n-\r\n-      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`, {\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n         method: \"PATCH\",\r\n         body: formData,\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n-      console.log(`${API_BASE_URL}/api/passenger/${passengerId}/update-profile-image`)\r\n       if (res.ok) {\r\n         Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        // Refresh profile\r\n         const updatedProfile = await res.json();\r\n         setProfile(updatedProfile.passenger);\r\n         setProfileImage(null);\r\n       } else {\r\n@@ -127,39 +122,46 @@\n   };\r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <Text style={styles.heading}>PROFILE</Text>\r\n-      <TouchableOpacity onPress={() => pickSelfieImage(setProfileImage)}>\r\n-        <Image\r\n-          source={\r\n-            profileImage\r\n-              ? { uri: profileImage.uri }\r\n-              : profile?.profileImage\r\n-              ? { uri: `${API_BASE_URL}/${profile.profileImage}` }\r\n-              : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-          }\r\n-          style={styles.profileImage}\r\n-        />\r\n-      </TouchableOpacity>\r\n+      <View style={styles.profileContainer}>\r\n+        <TouchableOpacity onPress={pickSelfieImage}>\r\n+          <Image\r\n+            source={\r\n+              profileImage\r\n+                ? { uri: profileImage.uri }\r\n+                : profile?.profileImage\r\n+                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+            }\r\n+            style={styles.profileImage}\r\n+          />\r\n+        </TouchableOpacity>\r\n+        <Text style={styles.username}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n+        {profileImage && (\r\n+          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+          </TouchableOpacity>\r\n+        )}\r\n+      </View>\r\n \r\n-      {profileImage && (\r\n-        <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-          <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n+\r\n+        <TouchableOpacity style={styles.deleteButton}>\r\n+          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n         </TouchableOpacity>\r\n-      )}\r\n+      </View>\r\n \r\n-      {profile ? (\r\n-        <>\r\n-          <Text style={styles.info}>Name: {profile.firstName} {profile.middleName} {profile.lastName}</Text>\r\n-          <Text style={styles.info}>Email: {profile.email}</Text>\r\n-          <Text style={styles.info}>Phone: {profile.contact || \"Not Provided\"}</Text>\r\n-          <Text style={styles.info}>Birthday: {profile.birthday || \"Not Provided\"}</Text>\r\n-        </>\r\n-      ) : (\r\n-        <Text style={{ color: \"#888\" }}>Loading profile...</Text>\r\n-      )}\r\n-\r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n@@ -169,11 +171,18 @@\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n-  container: { flex: 1, justifyContent: 'center', alignItems: 'center', paddingHorizontal: 20 },\r\n-  heading: { fontWeight: 'bold', fontSize: 18, marginBottom: 20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 20 },\r\n-  info: { fontSize: 14, color: '#333', marginVertical: 2 },\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n });\r\n+\r\n"
                },
                {
                    "date": 1748412203284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n"
                },
                {
                    "date": 1748412257708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,11 +150,11 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>None</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Not Provided\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n           <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n"
                },
                {
                    "date": 1748415106106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,10 +151,10 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Not Provided\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email && \">\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n           <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n"
                },
                {
                    "date": 1748415271663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email && \">\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n"
                },
                {
                    "date": 1748415304564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text><TouchableOpacity><Text>></Text></TouchableOpacity></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n"
                },
                {
                    "date": 1748415330463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text><TouchableOpacity><Text>></Text></TouchableOpacity></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email} ></Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n"
                },
                {
                    "date": 1748415340086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email} ></Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n"
                },
                {
                    "date": 1748415573043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text><MaterialIcons name=\"edit\" size={20} color=\"#888\" style={styles.editIcon} /></View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n           <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n"
                },
                {
                    "date": 1748415594500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n import { useFocusEffect } from \"@react-navigation/native\";\r\n+import { MaterialIcons } from \"@expo/vector-icons\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n"
                },
                {
                    "date": 1748415672054,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,9 +153,15 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Emergency Contacts:</Text><Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text><MaterialIcons name=\"edit\" size={20} color=\"#888\" style={styles.editIcon} /></View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Emergency Contacts:</Text>\r\n+          <View>\r\n+            <Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n \r\n         <TouchableOpacity style={styles.deleteButton}>\r\n           <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n           <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n"
                },
                {
                    "date": 1748415728060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View>\r\n-            <Text style={styles.value}>{profile?.Econtact || \"Add >\"}</Text>\r\n+            <Text style={styles.value}>{profile?.Econtact || \"\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1748415747268,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View>\r\n-            <Text style={styles.value}>{profile?.Econtact || \"\"}</Text>\r\n+            <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n \r\n"
                },
                {
                    "date": 1748415771347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,9 +155,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View>\r\n+          <View style={{flexDirection:'row'}}>\r\n             <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748415825313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,10 +152,17 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Email Address:</Text><Text style={styles.value}>{profile?.email}</Text></View>\r\n         <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View>\r\n+            <Text style={styles.value}>{profile?.email}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+          \r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={{flexDirection:'row'}}>\r\n             <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n"
                },
                {
                    "date": 1748415856585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,9 +162,9 @@\n           \r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={{flexDirection:'row'}}>\r\n+          <View style={styles.infoRow}>\r\n             <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748415862460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,9 +162,9 @@\n           \r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={styles.infoRow}>\r\n+          <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748415876782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,8 +193,9 @@\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n   deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n"
                },
                {
                    "date": 1748415895380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n-          <View>\r\n+          <Viewstyle={styles.row}>\r\n             <Text style={styles.value}>{profile?.email}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n           \r\n"
                },
                {
                    "date": 1748415900870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n-          <Viewstyle={styles.row}>\r\n+          <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.email}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n           \r\n"
                },
                {
                    "date": 1748416109803,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,16 +151,15 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday}</Text></View>\r\n+        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.email}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n-          \r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n"
                },
                {
                    "date": 1748416169679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -166,13 +166,8 @@\n             <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n-\r\n-        <TouchableOpacity style={styles.deleteButton}>\r\n-          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-        </TouchableOpacity>\r\n       </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n@@ -195,8 +190,7 @@\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748416236760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,10 +151,16 @@\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Birthday:</Text><Text style={styles.value}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={styles.value}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.email}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n"
                },
                {
                    "date": 1748416306197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,10 +150,16 @@\n \r\n         <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Contact Number:</Text><Text style={styles.value}>{profile?.contact || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={styles.value}>{profile?.contact || \"Set Now\"}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n"
                },
                {
                    "date": 1748416389831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,12 +147,30 @@\n \r\n       <View style={styles.accountContainer}>\r\n         <Text style={styles.sectionTitle}>My Account</Text>\r\n \r\n-        <View style={styles.infoRow}><Text style={styles.label}>Full Name:</Text><Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Gender:</Text><Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text></View>\r\n-        <View style={styles.infoRow}><Text style={styles.label}>Age:</Text><Text style={styles.value}>{profile?.age || \"Not Provided\"}</Text></View>\r\n         <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={styles.value}>{profile?.age || \"Set Now\"}</Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+          </View>\r\n+        </View>\r\n+        <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.contact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n"
                },
                {
                    "date": 1748416400422,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n+            <Text style={styles.value}>{profile?.firstName} {profile?.middleName || \"\"} {profile?.lastName}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1748416411790,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.firstName} {profile?.middleName || \"\"} {profile?.lastName}</Text>\r\n+            <Text style={styles.value}>{profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1748416419863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,9 +157,9 @@\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Gender:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.gender || \"Not Provided\"}</Text>\r\n+            <Text style={styles.value}>{profile?.gender || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1748416611750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -146,9 +146,8 @@\n       </View>\r\n \r\n       <View style={styles.accountContainer}>\r\n         <Text style={styles.sectionTitle}>My Account</Text>\r\n-\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={styles.value}>{profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}</Text>\r\n@@ -192,9 +191,9 @@\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.Econtact || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#888\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n       </View>\r\n"
                },
                {
                    "date": 1748416622862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#888\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#777\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n       </View>\r\n"
                },
                {
                    "date": 1748416628560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#777\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n       </View>\r\n"
                },
                {
                    "date": 1748416675368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,44 +149,44 @@\n         <Text style={styles.sectionTitle}>My Account</Text>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Gender:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.gender || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.gender || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Age:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.age || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.age || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.contact || \"Set Now\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.contact || \"Set Now\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={styles.value}>{profile?.email}</Text>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.email}</Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n           </View>\r\n         </View>\r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1748416906007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,52 +149,98 @@\n         <Text style={styles.sectionTitle}>My Account</Text>\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              {\r\n+                color:\r\n+                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                    ? \"#000\"\r\n+                    : \"#999\",\r\n+              },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Gender:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.gender || \"Set Now\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Age:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.age || \"Set Now\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.age ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.contact || \"Set Now\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.email}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.email ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>{profile?.Econtact || \"Set Now\"}</Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{marginLeft: 5}} />\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.Econtact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n       </View>\r\n \r\n"
                },
                {
                    "date": 1748416995874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,8 +243,13 @@\n           </View>\r\n         </View>\r\n       </View>\r\n \r\n+      <TouchableOpacity style={styles.deleteButton}>\r\n+        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+      </TouchableOpacity>\r\n+\r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n@@ -265,7 +270,8 @@\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n"
                },
                {
                    "date": 1748417005333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,12 +243,12 @@\n           </View>\r\n         </View>\r\n       </View>\r\n \r\n-      <TouchableOpacity style={styles.deleteButton}>\r\n+      {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-      </TouchableOpacity>\r\n+      </TouchableOpacity> */}\r\n \r\n       <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n"
                },
                {
                    "date": 1748417067046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,8 +137,9 @@\n             style={styles.profileImage}\r\n           />\r\n         </TouchableOpacity>\r\n         <Text style={styles.username}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n+        <Text>LogOut</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748417095706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -136,9 +136,9 @@\n             }\r\n             style={styles.profileImage}\r\n           />\r\n         </TouchableOpacity>\r\n-        <Text style={styles.username}>{profile?.firstName} {profile?.middleName} {profile?.lastName}</Text>\r\n+        <Text style={styles.username}>{profile?.firstName{profile?.lastName}</Text>\r\n         <Text>LogOut</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n"
                },
                {
                    "date": 1748419803710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,281 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import { Ionicons } from \"@expo/vector-icons\";\r\n+import { router } from 'expo-router';\r\n+import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n+import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n+import { MaterialIcons } from \"@expo/vector-icons\";\r\n+\r\n+const { width } = Dimensions.get(\"window\");\r\n+\r\n+export default function PProfile() {\r\n+  const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n+\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n+\r\n+  const pickSelfieImage = async () => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+      });\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.passenger);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <View style={styles.container}>\r\n+      <View style={styles.profileContainer}>\r\n+        <View>\r\n+          <TouchableOpacity onPress={pickSelfieImage}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n+          </TouchableOpacity>\r\n+          <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+        </View>\r\n+        \r\n+        <Text>LogOut</Text>\r\n+        {profileImage && (\r\n+          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+          </TouchableOpacity>\r\n+        )}\r\n+      </View>\r\n+\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              {\r\n+                color:\r\n+                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                    ? \"#000\"\r\n+                    : \"#999\",\r\n+              },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.age ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.email ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Emergency Contacts:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.Econtact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+      </View>\r\n+\r\n+      {/* <TouchableOpacity style={styles.deleteButton}>\r\n+        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+      </TouchableOpacity> */}\r\n+\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+      </View>\r\n+    </View>\r\n+  );\r\n+}\r\n+\r\n+const styles = StyleSheet.create({\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\" },\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+});\r\n+\r\n"
                },
                {
                    "date": 1748419825248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n \r\n   return (\r\n     <View style={styles.container}>\r\n       <View style={styles.profileContainer}>\r\n-        <View>\r\n+        <View style={styles.row}>\r\n           <TouchableOpacity onPress={pickSelfieImage}>\r\n             <Image\r\n               source={\r\n                 profileImage\r\n@@ -278,282 +278,4 @@\n   deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n-import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n-import { Ionicons } from \"@expo/vector-icons\";\r\n-import { router } from 'expo-router';\r\n-import AsyncStorage from '@react-native-async-storage/async-storage';\r\n-import * as ImagePicker from \"expo-image-picker\";\r\n-import { ImagePickerAsset } from \"expo-image-picker\";\r\n-import { API_BASE_URL } from \"../../config\";\r\n-import { useFocusEffect } from \"@react-navigation/native\";\r\n-import { MaterialIcons } from \"@expo/vector-icons\";\r\n-\r\n-const { width } = Dimensions.get(\"window\");\r\n-\r\n-export default function PProfile() {\r\n-  const [profile, setProfile] = useState<any>(null);\r\n-  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n-\r\n-  const fetchProfile = async () => {\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-      const result = await response.json();\r\n-      if (result.passenger) {\r\n-        setProfile(result.passenger);\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n-    }\r\n-  };\r\n-\r\n-  useFocusEffect(\r\n-    React.useCallback(() => {\r\n-      fetchProfile();\r\n-    }, [])\r\n-  );\r\n-\r\n-  const pickSelfieImage = async () => {\r\n-    if (Platform.OS === \"ios\") {\r\n-      ActionSheetIOS.showActionSheetWithOptions(\r\n-        {\r\n-          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n-          cancelButtonIndex: 2,\r\n-        },\r\n-        async (buttonIndex) => {\r\n-          if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }\r\n-        }\r\n-      );\r\n-    } else {\r\n-      Alert.alert(\"Select Option\", \"\", [\r\n-        { text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Cancel\", style: \"cancel\" },\r\n-      ]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const formData = new FormData();\r\n-      formData.append(\"profileImage\", {\r\n-        uri: profileImage.uri,\r\n-        name: \"profile.jpg\",\r\n-        type: \"image/jpeg\",\r\n-      } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n-        body: formData,\r\n-      });\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.passenger);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <View style={styles.container}>\r\n-      <View style={styles.profileContainer}>\r\n-        <TouchableOpacity onPress={pickSelfieImage}>\r\n-          <Image\r\n-            source={\r\n-              profileImage\r\n-                ? { uri: profileImage.uri }\r\n-                : profile?.profileImage\r\n-                ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-            }\r\n-            style={styles.profileImage}\r\n-          />\r\n-        </TouchableOpacity>\r\n-        <Text style={styles.username}>{profile?.firstName{profile?.lastName}</Text>\r\n-        <Text>LogOut</Text>\r\n-        {profileImage && (\r\n-          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-          </TouchableOpacity>\r\n-        )}\r\n-      </View>\r\n-\r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Full Name:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              {\r\n-                color:\r\n-                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n-                    ? \"#000\"\r\n-                    : \"#999\",\r\n-              },\r\n-            ]}>\r\n-              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Gender:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.gender || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.age ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Contact Number:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthday:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.email ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.email || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.Econtact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-      </View>\r\n-\r\n-      {/* <TouchableOpacity style={styles.deleteButton}>\r\n-        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-      </TouchableOpacity> */}\r\n-\r\n-      <View style={styles.bottomNav}>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n-    </View>\r\n-  );\r\n-}\r\n-\r\n-const styles = StyleSheet.create({\r\n-  container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\" },\r\n-  label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n-\r\n"
                },
                {
                    "date": 1748419843910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,9 +264,9 @@\n }\r\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20 },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748419875569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n         \r\n-        <Text>LogOut</Text>\r\n+        <Text style={styles.username}>LogOut</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748419992569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,14 @@\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n         \r\n-        <Text style={styles.username}>LogOut</Text>\r\n+        <View style={styles.logoutContainer}>\r\n+          <TouchableOpacity style={styles.logoutButton} onPress={() => {/* TODO: Implement logout logic */}}>\r\n+            <Ionicons name=\"log-out-outline\" size={20} color=\"red\" />\r\n+            <Text style={styles.logoutText}>Log Out</Text>\r\n+          </TouchableOpacity>\r\n+        </View>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n@@ -265,8 +270,30 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n+  logoutContainer: {\r\n+  alignItems: \"center\",\r\n+  marginVertical: 20,\r\n+  },\r\n+\r\n+  logoutButton: {\r\n+    flexDirection: \"row\",\r\n+    alignItems: \"center\",\r\n+    borderWidth: 1,\r\n+    borderColor: \"red\",\r\n+    borderRadius: 8,\r\n+    paddingHorizontal: 15,\r\n+    paddingVertical: 8,\r\n+  },\r\n+\r\n+  logoutText: {\r\n+    color: \"red\",\r\n+    marginLeft: 8,\r\n+    fontSize: 14,\r\n+    fontWeight: \"bold\",\r\n+  },\r\n+\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748420543541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,15 +139,10 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        \r\n-        <View style={styles.logoutContainer}>\r\n-          <TouchableOpacity style={styles.logoutButton} onPress={() => {/* TODO: Implement logout logic */}}>\r\n-            <Ionicons name=\"log-out-outline\" size={20} color=\"red\" />\r\n-            <Text style={styles.logoutText}>Log Out</Text>\r\n-          </TouchableOpacity>\r\n-        </View>\r\n+        <Ionicons name=\"log-out-outline\" size={20} color=\"red\" />\r\n+        <Text style={styles.username}>LogOut</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n@@ -270,30 +265,8 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n-  logoutContainer: {\r\n-  alignItems: \"center\",\r\n-  marginVertical: 20,\r\n-  },\r\n-\r\n-  logoutButton: {\r\n-    flexDirection: \"row\",\r\n-    alignItems: \"center\",\r\n-    borderWidth: 1,\r\n-    borderColor: \"red\",\r\n-    borderRadius: 8,\r\n-    paddingHorizontal: 15,\r\n-    paddingVertical: 8,\r\n-  },\r\n-\r\n-  logoutText: {\r\n-    color: \"red\",\r\n-    marginLeft: 8,\r\n-    fontSize: 14,\r\n-    fontWeight: \"bold\",\r\n-  },\r\n-\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n"
                },
                {
                    "date": 1748420549409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,9 +139,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <Ionicons name=\"log-out-outline\" size={20} color=\"red\" />\r\n+        <Ionicons name=\"log-out-outline\" size={20} color=\"black\" />\r\n         <Text style={styles.username}>LogOut</Text>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n"
                },
                {
                    "date": 1748420570453,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,10 +139,12 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <Ionicons name=\"log-out-outline\" size={20} color=\"black\" />\r\n-        <Text style={styles.username}>LogOut</Text>\r\n+        <View>\r\n+          <Ionicons name=\"log-out-outline\" size={40} color=\"black\" />\r\n+          <Text style={styles.username}>LogOut</Text>\r\n+        </View>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748420583525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,9 +139,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <View>\r\n+        <View style={styles.row}>\r\n           <Ionicons name=\"log-out-outline\" size={40} color=\"black\" />\r\n           <Text style={styles.username}>LogOut</Text>\r\n         </View>\r\n         {profileImage && (\r\n"
                },
                {
                    "date": 1748420592909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n         <View style={styles.row}>\r\n-          <Ionicons name=\"log-out-outline\" size={40} color=\"black\" />\r\n+          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.username}>LogOut</Text>\r\n         </View>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n"
                },
                {
                    "date": 1748420626321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n         <View style={styles.row}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n-          <Text style={styles.username}>LogOut</Text>\r\n+          <Text style={styles.lagout}>LogOut</Text>\r\n         </View>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n@@ -269,8 +269,9 @@\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  lagout: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n"
                },
                {
                    "date": 1748420644761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,9 +274,9 @@\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n   deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n"
                },
                {
                    "date": 1748420656118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n-  lagout: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10},\r\n+  lagout: { fontSize: 18, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n"
                },
                {
                    "date": 1748420672509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n-  lagout: { fontSize: 18, fontWeight: \"bold\"},\r\n+  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n"
                },
                {
                    "date": 1748420820804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,12 +139,12 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <View style={styles.row}>\r\n+        <TouchableOpacity style={styles.row}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n-        </View>\r\n+        </TouchableOpacity>\r\n         {profileImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n"
                },
                {
                    "date": 1748420850393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,8 +121,20 @@\n       Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n     }\r\n   };\r\n \r\n+  const handleLogout = async () => {\r\n+    try {\r\n+      await AsyncStorage.removeItem(\"passengerId\");\r\n+      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n+      router.replace(\"/\"); // or wherever your login page is\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Logout error:\", error);\r\n+      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+\r\n   return (\r\n     <View style={styles.container}>\r\n       <View style={styles.profileContainer}>\r\n         <View style={styles.row}>\r\n@@ -139,9 +151,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <TouchableOpacity style={styles.row}>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLagout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n         </TouchableOpacity>\r\n         {profileImage && (\r\n"
                },
                {
                    "date": 1748420861040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n         </View>\r\n-        <TouchableOpacity style={styles.row} onPress={handleLagout}>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n         </TouchableOpacity>\r\n         {profileImage && (\r\n"
                },
                {
                    "date": 1748421696990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"passengerId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n-      router.replace(\"/\"); // or wherever your login page is\r\n+      router.replace(\"../login_and_reg/plogin\");\r\n     } catch (error) {\r\n       console.error(\"‚ùå Logout error:\", error);\r\n       Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n     }\r\n"
                },
                {
                    "date": 1748439534075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,298 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import { Ionicons } from \"@expo/vector-icons\";\r\n+import { router } from 'expo-router';\r\n+import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n+import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n+import { MaterialIcons } from \"@expo/vector-icons\";\r\n+\r\n+const { width } = Dimensions.get(\"window\");\r\n+\r\n+export default function PProfile() {\r\n+  const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n+\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n+\r\n+  const pickSelfieImage = async () => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+      });\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.passenger);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  const handleLogout = async () => {\r\n+    try {\r\n+      await AsyncStorage.removeItem(\"passengerId\");\r\n+      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n+      router.replace(\"../login_and_reg/plogin\");\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Logout error:\", error);\r\n+      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+\r\n+  return (\r\n+    <View style={styles.container}>\r\n+      <View style={styles.profileContainer}>\r\n+        <View style={styles.row}>\r\n+          <TouchableOpacity onPress={pickSelfieImage}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n+          </TouchableOpacity>\r\n+          <View>\r\n+            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+            {profileImage && (\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+              </TouchableOpacity>\r\n+            )}\r\n+          </View>\r\n+        </View>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n+          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n+          <Text style={styles.lagout}>LogOut</Text>\r\n+        </TouchableOpacity>\r\n+      </View>\r\n+\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              {\r\n+                color:\r\n+                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                    ? \"#000\"\r\n+                    : \"#999\",\r\n+              },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.age ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.email ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Emergency Contacts:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.Econtact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+      </View>\r\n+\r\n+      {/* <TouchableOpacity style={styles.deleteButton}>\r\n+        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+      </TouchableOpacity> */}\r\n+\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+      </View>\r\n+    </View>\r\n+  );\r\n+}\r\n+\r\n+const styles = StyleSheet.create({\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+});\r\n+\r\n"
                },
                {
                    "date": 1748439567302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -295,300 +295,4 @@\n   deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n \r\n-import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n-import { Ionicons } from \"@expo/vector-icons\";\r\n-import { router } from 'expo-router';\r\n-import AsyncStorage from '@react-native-async-storage/async-storage';\r\n-import * as ImagePicker from \"expo-image-picker\";\r\n-import { ImagePickerAsset } from \"expo-image-picker\";\r\n-import { API_BASE_URL } from \"../../config\";\r\n-import { useFocusEffect } from \"@react-navigation/native\";\r\n-import { MaterialIcons } from \"@expo/vector-icons\";\r\n-\r\n-const { width } = Dimensions.get(\"window\");\r\n-\r\n-export default function PProfile() {\r\n-  const [profile, setProfile] = useState<any>(null);\r\n-  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n-\r\n-  const fetchProfile = async () => {\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-      const result = await response.json();\r\n-      if (result.passenger) {\r\n-        setProfile(result.passenger);\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n-    }\r\n-  };\r\n-\r\n-  useFocusEffect(\r\n-    React.useCallback(() => {\r\n-      fetchProfile();\r\n-    }, [])\r\n-  );\r\n-\r\n-  const pickSelfieImage = async () => {\r\n-    if (Platform.OS === \"ios\") {\r\n-      ActionSheetIOS.showActionSheetWithOptions(\r\n-        {\r\n-          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n-          cancelButtonIndex: 2,\r\n-        },\r\n-        async (buttonIndex) => {\r\n-          if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }\r\n-        }\r\n-      );\r\n-    } else {\r\n-      Alert.alert(\"Select Option\", \"\", [\r\n-        { text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Cancel\", style: \"cancel\" },\r\n-      ]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const formData = new FormData();\r\n-      formData.append(\"profileImage\", {\r\n-        uri: profileImage.uri,\r\n-        name: \"profile.jpg\",\r\n-        type: \"image/jpeg\",\r\n-      } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n-        body: formData,\r\n-      });\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.passenger);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n-  const handleLogout = async () => {\r\n-    try {\r\n-      await AsyncStorage.removeItem(\"passengerId\");\r\n-      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n-      router.replace(\"../login_and_reg/plogin\");\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Logout error:\", error);\r\n-      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n-\r\n-  return (\r\n-    <View style={styles.container}>\r\n-      <View style={styles.profileContainer}>\r\n-        <View style={styles.row}>\r\n-          <TouchableOpacity onPress={pickSelfieImage}>\r\n-            <Image\r\n-              source={\r\n-                profileImage\r\n-                  ? { uri: profileImage.uri }\r\n-                  : profile?.profileImage\r\n-                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-              }\r\n-              style={styles.profileImage}\r\n-            />\r\n-          </TouchableOpacity>\r\n-          <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n-        </View>\r\n-        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n-          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n-          <Text style={styles.lagout}>LogOut</Text>\r\n-        </TouchableOpacity>\r\n-        {profileImage && (\r\n-          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-          </TouchableOpacity>\r\n-        )}\r\n-      </View>\r\n-\r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Full Name:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              {\r\n-                color:\r\n-                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n-                    ? \"#000\"\r\n-                    : \"#999\",\r\n-              },\r\n-            ]}>\r\n-              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Gender:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.gender || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.age ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Contact Number:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthday:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.email ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.email || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.Econtact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-      </View>\r\n-\r\n-      {/* <TouchableOpacity style={styles.deleteButton}>\r\n-        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-      </TouchableOpacity> */}\r\n-\r\n-      <View style={styles.bottomNav}>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n-    </View>\r\n-  );\r\n-}\r\n-\r\n-const styles = StyleSheet.create({\r\n-  container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n-  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n-  label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n-\r\n"
                },
                {
                    "date": 1748456244188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,301 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar } from \"react-native\";\r\n+import { Ionicons } from \"@expo/vector-icons\";\r\n+import { router } from 'expo-router';\r\n+import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n+import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n+import { MaterialIcons } from \"@expo/vector-icons\";\r\n+\r\n+const { width } = Dimensions.get(\"window\");\r\n+\r\n+export default function PProfile() {\r\n+  const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n+      const result = await response.json();\r\n+      if (result.passenger) {\r\n+        setProfile(result.passenger);\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n+    }\r\n+  };\r\n+\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n+\r\n+  const pickSelfieImage = async () => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }},\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+      });\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.passenger);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  const handleLogout = async () => {\r\n+    try {\r\n+      await AsyncStorage.removeItem(\"passengerId\");\r\n+      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n+      router.replace(\"../login_and_reg/plogin\");\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Logout error:\", error);\r\n+      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+\r\n+  return (\r\n+    <View style={styles.container}>\r\n+      <View style={{paddingTop: 30}}>\r\n+        <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n+      </View>\r\n+      <View style={styles.profileContainer}>\r\n+        <View style={styles.row}>\r\n+          <TouchableOpacity onPress={pickSelfieImage}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n+          </TouchableOpacity>\r\n+          <View>\r\n+            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+            {profileImage && (\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+              </TouchableOpacity>\r\n+            )}\r\n+          </View>\r\n+        </View>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n+          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n+          <Text style={styles.lagout}>LogOut</Text>\r\n+        </TouchableOpacity>\r\n+      </View>\r\n+\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              {\r\n+                color:\r\n+                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                    ? \"#000\"\r\n+                    : \"#999\",\r\n+              },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.age ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.email ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Emergency Contacts:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.Econtact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+      </View>\r\n+\r\n+      {/* <TouchableOpacity style={styles.deleteButton}>\r\n+        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+      </TouchableOpacity> */}\r\n+\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+      </View>\r\n+    </View>\r\n+  );\r\n+}\r\n+\r\n+const styles = StyleSheet.create({\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+});\r\n+\r\n"
                },
                {
                    "date": 1748456497790,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar, SafeAreaView } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n@@ -134,450 +134,155 @@\n   };\r\n \r\n \r\n   return (\r\n-    <View style={styles.container}>\r\n-      <View style={{paddingTop: 30}}>\r\n-        <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n-      </View>\r\n-      <View style={styles.profileContainer}>\r\n-        <View style={styles.row}>\r\n-          <TouchableOpacity onPress={pickSelfieImage}>\r\n-            <Image\r\n-              source={\r\n-                profileImage\r\n-                  ? { uri: profileImage.uri }\r\n-                  : profile?.profileImage\r\n-                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-              }\r\n-              style={styles.profileImage}\r\n-            />\r\n-          </TouchableOpacity>\r\n-          <View>\r\n-            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n-            {profileImage && (\r\n-              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-              </TouchableOpacity>\r\n-            )}\r\n-          </View>\r\n+    <SafeAreaView>\r\n+      <View style={styles.container}>\r\n+        <View style={{paddingTop: 30}}>\r\n+          <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n         </View>\r\n-        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n-          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n-          <Text style={styles.lagout}>LogOut</Text>\r\n-        </TouchableOpacity>\r\n-      </View>\r\n-\r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Full Name:</Text>\r\n+        <View style={styles.profileContainer}>\r\n           <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              {\r\n-                color:\r\n-                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n-                    ? \"#000\"\r\n-                    : \"#999\",\r\n-              },\r\n-            ]}>\r\n-              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={pickSelfieImage}>\r\n+              <Image\r\n+                source={\r\n+                  profileImage\r\n+                    ? { uri: profileImage.uri }\r\n+                    : profile?.profileImage\r\n+                    ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                    : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+                }\r\n+                style={styles.profileImage}\r\n+              />\r\n+            </TouchableOpacity>\r\n+            <View>\r\n+              <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+              {profileImage && (\r\n+                <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                  <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+                </TouchableOpacity>\r\n+              )}\r\n+            </View>\r\n           </View>\r\n+          <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n+            <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n+            <Text style={styles.lagout}>LogOut</Text>\r\n+          </TouchableOpacity>\r\n         </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Gender:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.gender || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+        <View style={styles.accountContainer}>\r\n+          <Text style={styles.sectionTitle}>My Account</Text>\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Full Name:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                {\r\n+                  color:\r\n+                    (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                      ? \"#000\"\r\n+                      : \"#999\",\r\n+                },\r\n+              ]}>\r\n+                {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.age ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Gender:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.gender || \"Set Now\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Contact Number:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Age:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.age ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.age || \"Set Now\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthday:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Contact Number:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.contact || \"Set Now\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.email ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.email || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Birthday:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.Econtact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Email Address:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.email ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.email || \"Set Now\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n-        </View>\r\n-      </View>\r\n \r\n-      {/* <TouchableOpacity style={styles.deleteButton}>\r\n-        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-      </TouchableOpacity> */}\r\n-\r\n-      <View style={styles.bottomNav}>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n-    </View>\r\n-  );\r\n-}\r\n-\r\n-const styles = StyleSheet.create({\r\n-  container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n-  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n-  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n-  label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n-import { Ionicons } from \"@expo/vector-icons\";\r\n-import { router } from 'expo-router';\r\n-import AsyncStorage from '@react-native-async-storage/async-storage';\r\n-import * as ImagePicker from \"expo-image-picker\";\r\n-import { ImagePickerAsset } from \"expo-image-picker\";\r\n-import { API_BASE_URL } from \"../../config\";\r\n-import { useFocusEffect } from \"@react-navigation/native\";\r\n-import { MaterialIcons } from \"@expo/vector-icons\";\r\n-\r\n-const { width } = Dimensions.get(\"window\");\r\n-\r\n-export default function PProfile() {\r\n-  const [profile, setProfile] = useState<any>(null);\r\n-  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n-\r\n-  const fetchProfile = async () => {\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n-      const result = await response.json();\r\n-      if (result.passenger) {\r\n-        setProfile(result.passenger);\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Failed to fetch passenger profile:\", error);\r\n-    }\r\n-  };\r\n-\r\n-  useFocusEffect(\r\n-    React.useCallback(() => {\r\n-      fetchProfile();\r\n-    }, [])\r\n-  );\r\n-\r\n-  const pickSelfieImage = async () => {\r\n-    if (Platform.OS === \"ios\") {\r\n-      ActionSheetIOS.showActionSheetWithOptions(\r\n-        {\r\n-          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n-          cancelButtonIndex: 2,\r\n-        },\r\n-        async (buttonIndex) => {\r\n-          if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }\r\n-        }\r\n-      );\r\n-    } else {\r\n-      Alert.alert(\"Select Option\", \"\", [\r\n-        { text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }},\r\n-        { text: \"Cancel\", style: \"cancel\" },\r\n-      ]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n-      const formData = new FormData();\r\n-      formData.append(\"profileImage\", {\r\n-        uri: profileImage.uri,\r\n-        name: \"profile.jpg\",\r\n-        type: \"image/jpeg\",\r\n-      } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n-        body: formData,\r\n-      });\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.passenger);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n-  const handleLogout = async () => {\r\n-    try {\r\n-      await AsyncStorage.removeItem(\"passengerId\");\r\n-      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n-      router.replace(\"../login_and_reg/plogin\");\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Logout error:\", error);\r\n-      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n-\r\n-  return (\r\n-    <View style={styles.container}>\r\n-      <View style={styles.profileContainer}>\r\n-        <View style={styles.row}>\r\n-          <TouchableOpacity onPress={pickSelfieImage}>\r\n-            <Image\r\n-              source={\r\n-                profileImage\r\n-                  ? { uri: profileImage.uri }\r\n-                  : profile?.profileImage\r\n-                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-              }\r\n-              style={styles.profileImage}\r\n-            />\r\n-          </TouchableOpacity>\r\n-          <View>\r\n-            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n-            {profileImage && (\r\n-              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-              </TouchableOpacity>\r\n-            )}\r\n+          <View style={styles.infoRow}>\r\n+            <Text style={styles.label}>Emergency Contacts:</Text>\r\n+            <View style={styles.row}>\r\n+              <Text style={[\r\n+                styles.value,\r\n+                { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+              ]}>\r\n+                {profile?.Econtact || \"Set Now\"}\r\n+              </Text>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            </View>\r\n           </View>\r\n         </View>\r\n-        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n-          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n-          <Text style={styles.lagout}>LogOut</Text>\r\n-        </TouchableOpacity>\r\n-      </View>\r\n \r\n-      <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Full Name:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              {\r\n-                color:\r\n-                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n-                    ? \"#000\"\r\n-                    : \"#999\",\r\n-              },\r\n-            ]}>\r\n-              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n+        {/* <TouchableOpacity style={styles.deleteButton}>\r\n+          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+        </TouchableOpacity> */}\r\n \r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Gender:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.gender || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n+        <View style={styles.bottomNav}>\r\n+          <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+          <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+          <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+          <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n         </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.age ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Contact Number:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthday:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.email ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.email || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Emergency Contacts:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.Econtact || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n       </View>\r\n-\r\n-      {/* <TouchableOpacity style={styles.deleteButton}>\r\n-        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-      </TouchableOpacity> */}\r\n-\r\n-      <View style={styles.bottomNav}>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n-    </View>\r\n+    </SafeAreaView>\r\n+    \r\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n"
                },
                {
                    "date": 1748456764538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar, SafeAreaView } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n@@ -134,155 +134,152 @@\n   };\r\n \r\n \r\n   return (\r\n-    <SafeAreaView>\r\n-      <View style={styles.container}>\r\n-        <View style={{paddingTop: 30}}>\r\n-          <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n+    <View style={styles.container}>\r\n+      <View style={{paddingTop: 30}}>\r\n+        <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n+      </View>\r\n+      <View style={styles.profileContainer}>\r\n+        <View style={styles.row}>\r\n+          <TouchableOpacity onPress={pickSelfieImage}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                  ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                  : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n+          </TouchableOpacity>\r\n+          <View>\r\n+            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+            {profileImage && (\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+              </TouchableOpacity>\r\n+            )}\r\n+          </View>\r\n         </View>\r\n-        <View style={styles.profileContainer}>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n+          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n+          <Text style={styles.lagout}>LogOut</Text>\r\n+        </TouchableOpacity>\r\n+      </View>\r\n+\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n-            <TouchableOpacity onPress={pickSelfieImage}>\r\n-              <Image\r\n-                source={\r\n-                  profileImage\r\n-                    ? { uri: profileImage.uri }\r\n-                    : profile?.profileImage\r\n-                    ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n-                    : require(\"../../assets/images/profile-placeholder.jpg\")\r\n-                }\r\n-                style={styles.profileImage}\r\n-              />\r\n-            </TouchableOpacity>\r\n-            <View>\r\n-              <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n-              {profileImage && (\r\n-                <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                  <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-                </TouchableOpacity>\r\n-              )}\r\n-            </View>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              {\r\n+                color:\r\n+                  (profile?.firstName || profile?.middleName || profile?.lastName)\r\n+                    ? \"#000\"\r\n+                    : \"#999\",\r\n+              },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n-          <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n-            <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n-            <Text style={styles.lagout}>LogOut</Text>\r\n-          </TouchableOpacity>\r\n         </View>\r\n \r\n-        <View style={styles.accountContainer}>\r\n-          <Text style={styles.sectionTitle}>My Account</Text>\r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Full Name:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                {\r\n-                  color:\r\n-                    (profile?.firstName || profile?.middleName || profile?.lastName)\r\n-                      ? \"#000\"\r\n-                      : \"#999\",\r\n-                },\r\n-              ]}>\r\n-                {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.gender ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n+        </View>\r\n \r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Gender:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.gender ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.gender || \"Set Now\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.age ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n+        </View>\r\n \r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Age:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.age ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.age || \"Set Now\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n+        </View>\r\n \r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Contact Number:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.contact ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.contact || \"Set Now\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n+        </View>\r\n \r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Birthday:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.email ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n+        </View>\r\n \r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Email Address:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.email ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.email || \"Set Now\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Emergency Contacts:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.Econtact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n-\r\n-          <View style={styles.infoRow}>\r\n-            <Text style={styles.label}>Emergency Contacts:</Text>\r\n-            <View style={styles.row}>\r\n-              <Text style={[\r\n-                styles.value,\r\n-                { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n-              ]}>\r\n-                {profile?.Econtact || \"Set Now\"}\r\n-              </Text>\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-            </View>\r\n-          </View>\r\n         </View>\r\n+      </View>\r\n \r\n-        {/* <TouchableOpacity style={styles.deleteButton}>\r\n-          <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n-          <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n-        </TouchableOpacity> */}\r\n+      {/* <TouchableOpacity style={styles.deleteButton}>\r\n+        <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n+        <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n+      </TouchableOpacity> */}\r\n \r\n-        <View style={styles.bottomNav}>\r\n-          <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-          <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-          <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-          <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-        </View>\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n       </View>\r\n-    </SafeAreaView>\r\n-    \r\n+    </View>\r\n   );\r\n }\r\n \r\n const styles = StyleSheet.create({\r\n"
                },
                {
                    "date": 1748458776036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,10 +155,10 @@\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n             {profileImage && (\r\n-              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+              <TouchableOpacity onPress={handleUploadSelfie}>\r\n+                <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748458847929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,10 +155,10 @@\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n             {profileImage && (\r\n-              <TouchableOpacity onPress={handleUploadSelfie}>\r\n-                <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                <Text style={{ color: \"#fff\" }}>Save Profile</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748458884461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,9 +155,9 @@\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n             {profileImage && (\r\n-              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+              <TouchableOpacity onPress={handleUploadSelfie}>\r\n                 <Text style={{ color: \"#fff\" }}>Save Profile</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n"
                },
                {
                    "date": 1748458912877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,9 +155,9 @@\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n             {profileImage && (\r\n-              <TouchableOpacity onPress={handleUploadSelfie}>\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n                 <Text style={{ color: \"#fff\" }}>Save Profile</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n"
                },
                {
                    "date": 1748459023517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,9 @@\n           <View>\r\n             <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n             {profileImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Save Profile</Text>\r\n+                <Text style={{ color: \"#fff\", textAlign:'center' }}>Save Profile</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748459035296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,9 +287,9 @@\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n-  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 5, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n"
                },
                {
                    "date": 1756648627033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,9 @@\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+  const [emailSending, setEmailSending] = useState(false);\r\n \r\n   const fetchProfile = async () => {\r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n@@ -135,9 +136,9 @@\n \r\n \r\n   return (\r\n     <View style={styles.container}>\r\n-      <View style={{paddingTop: 30}}>\r\n+      <View>\r\n         <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n       </View>\r\n       <View style={styles.profileContainer}>\r\n         <View style={styles.row}>\r\n@@ -271,14 +272,14 @@\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n \r\n-      <View style={styles.bottomNav}>\r\n+      {/* <View style={styles.bottomNav}>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n         <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n+      </View> */}\r\n     </View>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1756648644983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,27 @@\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n   const [emailSending, setEmailSending] = useState(false);\r\n \r\n+  const resendPassengerEmail = async () => {\r\n+    if (!profile?.email) return Alert.alert(\"Error\", \"No email on file.\");\r\n+    try {\r\n+      setEmailSending(true);\r\n+      const r = await fetch(`${API_BASE_URL}/api/auth/passenger/resend-verification`, {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ email: profile.email }),\r\n+      });\r\n+      const j = await r.json();\r\n+      if (r.ok) Alert.alert(\"Sent\", j.message || \"Verification email sent.\");\r\n+      else Alert.alert(\"Error\", j.message || j.error || \"Failed to send email.\");\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Network error\");\r\n+    } finally {\r\n+      setEmailSending(false);\r\n+    }\r\n+  };\r\n+\r\n   const fetchProfile = async () => {\r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n       const response = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`);\r\n"
                },
                {
                    "date": 1756648718277,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,19 +261,50 @@\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.email ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n+          <View style={{ alignItems: \"flex-end\" }}>\r\n+            <Text style={[styles.value, { color: profile?.email ? \"#000\" : \"#999\" }]}>\r\n               {profile?.email || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+\r\n+            {/* badge */}\r\n+            <View style={{ flexDirection: \"row\", alignItems: \"center\", marginTop: 4 }}>\r\n+              <View\r\n+                style={{\r\n+                  paddingHorizontal: 8,\r\n+                  paddingVertical: 2,\r\n+                  borderRadius: 12,\r\n+                  backgroundColor: profile?.isVerified ? \"#E6F7E9\" : \"#FFF4E5\",\r\n+                  marginRight: 8,\r\n+                }}\r\n+              >\r\n+                <Text style={{ color: profile?.isVerified ? \"#2E7D32\" : \"#B26A00\", fontSize: 12 }}>\r\n+                  {profile?.isVerified ? \"Verified\" : \"Not verified\"}\r\n+                </Text>\r\n+              </View>\r\n+\r\n+              {!profile?.isVerified && (\r\n+                <TouchableOpacity\r\n+                  disabled={emailSending}\r\n+                  onPress={resendPassengerEmail}\r\n+                  style={{\r\n+                    paddingHorizontal: 10,\r\n+                    paddingVertical: 6,\r\n+                    borderRadius: 8,\r\n+                    backgroundColor: emailSending ? \"#ccc\" : \"#5089A3\",\r\n+                  }}\r\n+                >\r\n+                  <Text style={{ color: \"#fff\", fontSize: 12 }}>\r\n+                    {emailSending ? \"Sending...\" : \"Verify email\"}\r\n+                  </Text>\r\n+                </TouchableOpacity>\r\n+              )}\r\n+            </View>\r\n           </View>\r\n         </View>\r\n \r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n"
                },
                {
                    "date": 1756812178358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -110,39 +110,38 @@\n     }\r\n   };\r\n \r\n   const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n-\r\n+    if (!profileImage) return Alert.alert(\"Error\", \"Please select an image first.\");\r\n     try {\r\n       const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) return;\r\n+\r\n       const formData = new FormData();\r\n       formData.append(\"profileImage\", {\r\n         uri: profileImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/passenger/${passengerId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n-        body: formData,\r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}/photo`, {\r\n+        method: \"POST\",\r\n+        body: formData,              // ‚ùóÔ∏èDo NOT set Content-Type manually\r\n       });\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.passenger);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to upload image\");\r\n+\r\n+      setProfile(j.passenger);\r\n+      setProfileImage(null);\r\n+      Alert.alert(\"Success\", \"Profile image updated!\");\r\n+    } catch (e: any) {\r\n+      console.error(\"‚ùå Upload error:\", e);\r\n+      Alert.alert(\"Error\", e.message || \"Something went wrong. Try again.\");\r\n     }\r\n   };\r\n \r\n+\r\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"passengerId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n"
                },
                {
                    "date": 1756814292546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,11 @@\n               style={styles.profileImage}\r\n             />\r\n           </TouchableOpacity>\r\n           <View>\r\n-            <Text style={styles.username}>{profile?.firstName}{profile?.lastName}</Text>\r\n+            <Text style={styles.username}>\r\n+              {[profile?.firstName, profile?.lastName].filter(Boolean).join(\" \")}\r\n+            </Text>\r\n             {profileImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n                 <Text style={{ color: \"#fff\", textAlign:'center' }}>Save Profile</Text>\r\n               </TouchableOpacity>\r\n"
                },
                {
                    "date": 1756976044670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,11 @@\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n import { useFocusEffect } from \"@react-navigation/native\";\r\n import { MaterialIcons } from \"@expo/vector-icons\";\r\n+import { Modal, TextInput, ActivityIndicator } from \"react-native\";\r\n \r\n+\r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n"
                },
                {
                    "date": 1756976135287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,29 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar } from \"react-native\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS, StatusBar, Modal, TextInput, ActivityIndicator } from \"react-native\";\r\n import { Ionicons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n import { useFocusEffect } from \"@react-navigation/native\";\r\n import { MaterialIcons } from \"@expo/vector-icons\";\r\n-import { Modal, TextInput, ActivityIndicator } from \"react-native\";\r\n \r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function PProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n   const [emailSending, setEmailSending] = useState(false);\r\n+  const [editOpen, setEditOpen] = useState(false);\r\n+  const [editField, setEditField] = useState<null | {\r\n+    key: string;         \r\n+    label: string;       \r\n+    value: string;     \r\n+  }>(null);\r\n+  const [editSaving, setEditSaving] = useState(false);\r\n \r\n   const resendPassengerEmail = async () => {\r\n     if (!profile?.email) return Alert.alert(\"Error\", \"No email on file.\");\r\n     try {\r\n@@ -153,9 +159,45 @@\n       Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n     }\r\n   };\r\n \r\n+  const openEdit = (key: string, label: string, value?: string) => {\r\n+    setEditField({ key, label, value: value ?? \"\" });\r\n+    setEditOpen(true);\r\n+  };\r\n \r\n+  const saveEdit = async () => {\r\n+    if (!editField) return;\r\n+    try {\r\n+      setEditSaving(true);\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) throw new Error(\"Missing passengerId\");\r\n+\r\n+      // Build the PATCH payload with just one changed field\r\n+      const payload: Record<string, any> = {};\r\n+      payload[editField.key] = editField.value;\r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`, {\r\n+        method: \"PATCH\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(payload),\r\n+      });\r\n+\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to update\");\r\n+\r\n+      setProfile(j.passenger);     // refresh local state with server truth\r\n+      setEditOpen(false);\r\n+      setEditField(null);\r\n+    } catch (e: any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save changes\");\r\n+    } finally {\r\n+      setEditSaving(false);\r\n+    }\r\n+  };\r\n+\r\n+\r\n+\r\n   return (\r\n     <View style={styles.container}>\r\n       <View>\r\n         <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n"
                },
                {
                    "date": 1756976195366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,20 +147,8 @@\n       Alert.alert(\"Error\", e.message || \"Something went wrong. Try again.\");\r\n     }\r\n   };\r\n \r\n-\r\n-  const handleLogout = async () => {\r\n-    try {\r\n-      await AsyncStorage.removeItem(\"passengerId\");\r\n-      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n-      router.replace(\"../login_and_reg/plogin\");\r\n-    } catch (error) {\r\n-      console.error(\"‚ùå Logout error:\", error);\r\n-      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n-    }\r\n-  };\r\n-\r\n   const openEdit = (key: string, label: string, value?: string) => {\r\n     setEditField({ key, label, value: value ?? \"\" });\r\n     setEditOpen(true);\r\n   };\r\n@@ -196,8 +184,22 @@\n   };\r\n \r\n \r\n \r\n+  const handleLogout = async () => {\r\n+    try {\r\n+      await AsyncStorage.removeItem(\"passengerId\");\r\n+      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n+      router.replace(\"../login_and_reg/plogin\");\r\n+    } catch (error) {\r\n+      console.error(\"‚ùå Logout error:\", error);\r\n+      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  \r\n+\r\n+\r\n   return (\r\n     <View style={styles.container}>\r\n       <View>\r\n         <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n"
                },
                {
                    "date": 1756982018253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,10 +182,8 @@\n       setEditSaving(false);\r\n     }\r\n   };\r\n \r\n-\r\n-\r\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"passengerId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n@@ -195,11 +193,8 @@\n       Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n     }\r\n   };\r\n \r\n-  \r\n-\r\n-\r\n   return (\r\n     <View style={styles.container}>\r\n       <View>\r\n         <StatusBar barStyle=\"light-content\" translucent={true} backgroundColor=\"black\" />\r\n@@ -250,9 +245,22 @@\n               },\r\n             ]}>\r\n               {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"firstName\", \"First Name\", profile?.firstName || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n+\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"lastName\", \"Last Name\", profile?.lastName || \"\")}\r\n+              style={{ marginLeft: 12 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n+\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n@@ -364,8 +372,63 @@\n           </View>\r\n         </View>\r\n       </View>\r\n \r\n+      <Modal\r\n+        transparent\r\n+        visible={editOpen}\r\n+        animationType=\"fade\"\r\n+        onRequestClose={() => { if (!editSaving) { setEditOpen(false); setEditField(null); } }}\r\n+      >\r\n+        <View style={{\r\n+          flex: 1, backgroundColor: \"rgba(0,0,0,0.4)\",\r\n+          justifyContent: \"center\", alignItems: \"center\", padding: 20\r\n+        }}>\r\n+          <View style={{\r\n+            width: \"100%\", maxWidth: 420, backgroundColor: \"#fff\",\r\n+            borderRadius: 12, padding: 16\r\n+          }}>\r\n+            <Text style={{ fontWeight: \"bold\", fontSize: 16, marginBottom: 8 }}>\r\n+              Edit {editField?.label}\r\n+            </Text>\r\n+\r\n+            <TextInput\r\n+              placeholder={editField?.label}\r\n+              value={editField?.value ?? \"\"}\r\n+              onChangeText={(t) => setEditField((p) => (p ? { ...p, value: t } : p))}\r\n+              style={{\r\n+                borderWidth: 1, borderColor: \"#ddd\", borderRadius: 8,\r\n+                paddingHorizontal: 12, paddingVertical: 10, marginBottom: 12\r\n+              }}\r\n+              autoCapitalize=\"sentences\"\r\n+            />\r\n+\r\n+            <View style={{ flexDirection: \"row\", justifyContent: \"flex-end\", gap: 12 }}>\r\n+              <TouchableOpacity\r\n+                disabled={editSaving}\r\n+                onPress={() => { setEditOpen(false); setEditField(null); }}\r\n+                style={{ paddingVertical: 10, paddingHorizontal: 14 }}\r\n+              >\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+\r\n+              <TouchableOpacity\r\n+                disabled={editSaving}\r\n+                onPress={saveEdit}\r\n+                style={{\r\n+                  backgroundColor: \"#5089A3\", paddingVertical: 10, paddingHorizontal: 14,\r\n+                  borderRadius: 8, minWidth: 90, alignItems: \"center\"\r\n+                }}\r\n+              >\r\n+                {editSaving ? <ActivityIndicator color=\"#fff\" /> :\r\n+                  <Text style={{ color: \"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756982032803,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,9 +258,8 @@\n               style={{ marginLeft: 12 }}\r\n             >\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n-\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982133302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,15 +251,8 @@\n               style={{ marginLeft: 5 }}\r\n             >\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n-\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"lastName\", \"Last Name\", profile?.lastName || \"\")}\r\n-              style={{ marginLeft: 12 }}\r\n-            >\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n-            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982183543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -263,9 +263,14 @@\n               { color: profile?.gender ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.gender || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"gender\", \"Gender\", profile?.gender || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982226443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -281,9 +281,14 @@\n               { color: profile?.age ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.age || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982269869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,22 +273,17 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n+          <Text style={styles.label}>Birthdate:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n               { color: profile?.age ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n+              {profile?.birthday || \"Set Now\"}\r\n             </Text>\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n-              style={{ marginLeft: 5 }}\r\n-            >\r\n-              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n-            </TouchableOpacity>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982282667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,9 +279,9 @@\n             <Text style={[\r\n               styles.value,\r\n               { color: profile?.age ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.birthday || \"Set Now\"}\r\n+              {profile?.age || \"Set Now\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1756982304770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -294,9 +294,14 @@\n               { color: profile?.contact ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.contact || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982325768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,9 +312,14 @@\n               { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"birthday\", \"Birthday (YYYY-MM-DD)\", profile?.birthday?.slice(0,10) || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n"
                },
                {
                    "date": 1756982395498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,36 +286,37 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Contact Number:</Text>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n             </Text>\r\n             <TouchableOpacity\r\n-              onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n+              onPress={() => openEdit(\"birthday\", \"Birthday (YYYY-MM-DD)\", profile?.birthday?.slice(0,10) || \"\")}\r\n               style={{ marginLeft: 5 }}\r\n             >\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+\r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthday:</Text>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n+              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+              {profile?.contact || \"Set Now\"}\r\n             </Text>\r\n             <TouchableOpacity\r\n-              onPress={() => openEdit(\"birthday\", \"Birthday (YYYY-MM-DD)\", profile?.birthday?.slice(0,10) || \"\")}\r\n+              onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n               style={{ marginLeft: 5 }}\r\n             >\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n"
                },
                {
                    "date": 1756982431236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,9 +303,8 @@\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n-\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n@@ -375,9 +374,14 @@\n               { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.Econtact || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity\r\n+              onPress={() => openEdit(\"Econtact\", \"Emergency Contact\", profile?.Econtact || \"\")}\r\n+              style={{ marginLeft: 5 }}\r\n+            >\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n       </View>\r\n \r\n"
                },
                {
                    "date": 1756982501716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>\r\n-              {[profile?.firstName, profile?.lastName].filter(Boolean).join(\" \")}\r\n+              {[profile?.firstName, profile?.middleName, profile?.lastName].filter(Boolean).join(\" \")}\r\n             </Text>\r\n             {profileImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n                 <Text style={{ color: \"#fff\", textAlign:'center' }}>Save Profile</Text>\r\n"
                },
                {
                    "date": 1756992585155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n import { useFocusEffect } from \"@react-navigation/native\";\r\n import { MaterialIcons } from \"@expo/vector-icons\";\r\n+import DateTimePicker from \"@react-native-community/datetimepicker\";\r\n \r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n@@ -273,9 +274,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Birthdate:</Text>\r\n+          <Text style={styles.label}>Age:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n               { color: profile?.age ? \"#000\" : \"#999\" },\r\n"
                },
                {
                    "date": 1756992607277,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,28 @@\n     label: string;       \r\n     value: string;     \r\n   }>(null);\r\n   const [editSaving, setEditSaving] = useState(false);\r\n+  const [nameOpen, setNameOpen] = useState(false);\r\n+  const [firstNameEdit, setFirstNameEdit] = useState(\"\");\r\n+  const [middleNameEdit, setMiddleNameEdit] = useState(\"\");\r\n+  const [lastNameEdit, setLastNameEdit] = useState(\"\");\r\n+  const [savingName, setSavingName] = useState(false);\r\n \r\n+  const [genderOpen, setGenderOpen] = useState(false);\r\n+  const [genderChoice, setGenderChoice] = useState<string>(\"\");\r\n+  const [genderOther, setGenderOther] = useState(\"\");\r\n+  const [savingGender, setSavingGender] = useState(false);\r\n+\r\n+  const [bdayOpen, setBdayOpen] = useState(false);\r\n+  const [bdayValue, setBdayValue] = useState<Date | null>(null);\r\n+  const [savingBday, setSavingBday] = useState(false);\r\n+\r\n+  const [ecOpen, setEcOpen] = useState(false);\r\n+  const [ecName, setEcName] = useState(\"\");\r\n+  const [ecPhone, setEcPhone] = useState(\"\");\r\n+  const [savingEc, setSavingEc] = useState(false);\r\n+\r\n   const resendPassengerEmail = async () => {\r\n     if (!profile?.email) return Alert.alert(\"Error\", \"No email on file.\");\r\n     try {\r\n       setEmailSending(true);\r\n"
                },
                {
                    "date": 1756992654937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,8 +202,158 @@\n       setEditSaving(false);\r\n     }\r\n   };\r\n \r\n+  const computeAge = (iso?: string) => {\r\n+    if (!iso) return null;\r\n+    const d = new Date(iso);\r\n+    if (Number.isNaN(d.getTime())) return null;\r\n+    const now = new Date();\r\n+    let age = now.getFullYear() - d.getFullYear();\r\n+    const m = now.getMonth() - d.getMonth();\r\n+    if (m < 0 || (m === 0 && now.getDate() < d.getDate())) age--;\r\n+    return age < 0 ? null : age;\r\n+  };\r\n+  const fmtDate = (iso?: string) => {\r\n+    if (!iso) return null;\r\n+    const d = new Date(iso);\r\n+    if (Number.isNaN(d.getTime())) return null;\r\n+    return d.toLocaleDateString(undefined, { year: \"numeric\", month: \"short\", day: \"2-digit\" });\r\n+  };\r\n+\r\n+  const openName = () => {\r\n+    setFirstNameEdit(profile?.firstName || \"\");\r\n+    setMiddleNameEdit(profile?.middleName || \"\");\r\n+    setLastNameEdit(profile?.lastName || \"\");\r\n+    setNameOpen(true);\r\n+  };\r\n+  const saveName = async () => {\r\n+    try {\r\n+      setSavingName(true);\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) throw new Error(\"No passengerId\");\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`, {\r\n+        method: \"PATCH\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({\r\n+          firstName: firstNameEdit.trim(),\r\n+          middleName: middleNameEdit.trim(),\r\n+          lastName: lastNameEdit.trim(),\r\n+        }),\r\n+      });\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to update name\");\r\n+      setProfile(j.passenger);\r\n+      setNameOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save\");\r\n+    } finally {\r\n+      setSavingName(false);\r\n+    }\r\n+  };\r\n+\r\n+  const openGender = () => {\r\n+    const current = profile?.gender || \"\";\r\n+    const known = [\"Male\",\"Female\",\"Nonbinary\",\"Prefer not to say\"];\r\n+    if (known.includes(current)) {\r\n+      setGenderChoice(current);\r\n+      setGenderOther(\"\");\r\n+    } else if (current) {\r\n+      setGenderChoice(\"Other\");\r\n+      setGenderOther(current);\r\n+    } else {\r\n+      setGenderChoice(\"\");\r\n+      setGenderOther(\"\");\r\n+    }\r\n+    setGenderOpen(true);\r\n+  };\r\n+  const saveGender = async () => {\r\n+    const value = genderChoice === \"Other\" ? genderOther.trim() : genderChoice;\r\n+    if (!value) return Alert.alert(\"Gender\", \"Please choose an option.\");\r\n+    if (genderChoice === \"Other\" && !genderOther.trim()) {\r\n+      return Alert.alert(\"Gender\", \"Please enter a custom gender.\");\r\n+    }\r\n+    try {\r\n+      setSavingGender(true);\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) throw new Error(\"No passengerId\");\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`, {\r\n+        method: \"PATCH\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ gender: value }),\r\n+      });\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to update gender\");\r\n+      setProfile(j.passenger);\r\n+      setGenderOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save\");\r\n+    } finally {\r\n+      setSavingGender(false);\r\n+    }\r\n+  };\r\n+\r\n+  const openBday = () => {\r\n+    const d = profile?.birthday ? new Date(profile.birthday) : null;\r\n+    setBdayValue(d && !Number.isNaN(d.getTime()) ? d : new Date());\r\n+    setBdayOpen(true);\r\n+  };\r\n+  const saveBday = async () => {\r\n+    if (!bdayValue) return;\r\n+    const yyyy = bdayValue.getFullYear();\r\n+    const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n+    const dd = String(bdayValue.getDate()).padStart(2,\"0\");\r\n+    const iso = `${yyyy}-${mm}-${dd}`;\r\n+    try {\r\n+      setSavingBday(true);\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) throw new Error(\"No passengerId\");\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`, {\r\n+        method: \"PATCH\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ birthday: iso }),\r\n+      });\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to update birthday\");\r\n+      setProfile(j.passenger);\r\n+      setBdayOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save\");\r\n+    } finally {\r\n+      setSavingBday(false);\r\n+    }\r\n+  };\r\n+\r\n+  const openEc = () => {\r\n+    setEcName(profile?.eContactName || \"\");\r\n+    setEcPhone(profile?.eContactPhone || \"\");\r\n+    setEcOpen(true);\r\n+  };\r\n+  const saveEc = async () => {\r\n+    // quick lenient check\r\n+    if (!ecName.trim()) return Alert.alert(\"Emergency Contact\", \"Please enter a name.\");\r\n+    if (!ecPhone.trim()) return Alert.alert(\"Emergency Contact\", \"Please enter a phone number.\");\r\n+    try {\r\n+      setSavingEc(true);\r\n+      const passengerId = await AsyncStorage.getItem(\"passengerId\");\r\n+      if (!passengerId) throw new Error(\"No passengerId\");\r\n+      const res = await fetch(`${API_BASE_URL}/api/passenger/${passengerId}`, {\r\n+        method: \"PATCH\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ eContactName: ecName.trim(), eContactPhone: ecPhone.trim() }),\r\n+      });\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to update emergency contact\");\r\n+      setProfile(j.passenger);\r\n+      setEcOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save\");\r\n+    } finally {\r\n+      setSavingEc(false);\r\n+    }\r\n+  };\r\n+\r\n+\r\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"passengerId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n"
                },
                {
                    "date": 1756992693244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -415,12 +415,9 @@\n               },\r\n             ]}>\r\n               {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n             </Text>\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"firstName\", \"First Name\", profile?.firstName || \"\")}\r\n-              style={{ marginLeft: 5 }}\r\n-            >\r\n+            <TouchableOpacity onPress={openName} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1756992731663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -430,12 +430,9 @@\n               { color: profile?.gender ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.gender || \"Set Now\"}\r\n             </Text>\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"gender\", \"Gender\", profile?.gender || \"\")}\r\n-              style={{ marginLeft: 5 }}\r\n-            >\r\n+            <TouchableOpacity onPress={openGender} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1756992755034,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,12 +458,9 @@\n               { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n             </Text>\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"birthday\", \"Birthday (YYYY-MM-DD)\", profile?.birthday?.slice(0,10) || \"\")}\r\n-              style={{ marginLeft: 5 }}\r\n-            >\r\n+            <TouchableOpacity onPress={openBday} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1756992784947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -535,12 +535,9 @@\n               { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.Econtact || \"Set Now\"}\r\n             </Text>\r\n-            <TouchableOpacity\r\n-              onPress={() => openEdit(\"Econtact\", \"Emergency Contact\", profile?.Econtact || \"\")}\r\n-              style={{ marginLeft: 5 }}\r\n-            >\r\n+            <TouchableOpacity onPress={openEc} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1756993151812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -469,11 +469,11 @@\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: profile?.contact ? \"#000\" : \"#999\" },\r\n+              { color: profile?.phone  ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n+              {profile?.phone  || \"Set Now\"}\r\n             </Text>\r\n             <TouchableOpacity\r\n               onPress={() => openEdit(\"contact\", \"Contact Number\", profile?.contact || \"\")}\r\n               style={{ marginLeft: 5 }}\r\n"
                },
                {
                    "date": 1756993645275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,11 @@\n             <Text style={[\r\n               styles.value,\r\n               { color: profile?.birthday ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+              {profile?.birthday\r\n+                ? `${fmtDate(profile.birthday)} ‚Ä¢ ${computeAge(profile.birthday) ?? \"-\"}y`\r\n+                : \"Not Provided\"}\r\n             </Text>\r\n             <TouchableOpacity onPress={openBday} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n@@ -533,9 +535,12 @@\n             <Text style={[\r\n               styles.value,\r\n               { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.Econtact || \"Set Now\"}\r\n+              {profile?.eContactName || profile?.eContactPhone\r\n+                ? `${profile?.eContactName || \"‚Äî\"} ‚Ä¢ ${profile?.eContactPhone || \"‚Äî\"}`\r\n+                : \"Set Now\"}\r\n+\r\n             </Text>\r\n             <TouchableOpacity onPress={openEc} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n"
                },
                {
                    "date": 1756993799908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -538,9 +538,8 @@\n             ]}>\r\n               {profile?.eContactName || profile?.eContactPhone\r\n                 ? `${profile?.eContactName || \"‚Äî\"} ‚Ä¢ ${profile?.eContactPhone || \"‚Äî\"}`\r\n                 : \"Set Now\"}\r\n-\r\n             </Text>\r\n             <TouchableOpacity onPress={openEc} style={{ marginLeft: 5 }}>\r\n               <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n             </TouchableOpacity>\r\n@@ -601,9 +600,34 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      <Modal transparent visible={nameOpen} animationType=\"fade\" onRequestClose={() => !savingName && setNameOpen(false)}>\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:8 }}>Edit Name</Text>\r\n \r\n+            <TextInput placeholder=\"First name\" value={firstNameEdit} onChangeText={setFirstNameEdit}\r\n+              style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:8 }} />\r\n+            <TextInput placeholder=\"Middle name (optional)\" value={middleNameEdit} onChangeText={setMiddleNameEdit}\r\n+              style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:8 }} />\r\n+            <TextInput placeholder=\"Last name\" value={lastNameEdit} onChangeText={setLastNameEdit}\r\n+              style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:12 }} />\r\n+\r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\" }}>\r\n+              <TouchableOpacity disabled={savingName} onPress={() => setNameOpen(false)} style={{ padding:10, marginRight:8 }}>\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingName} onPress={saveName} style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}>\r\n+                {savingName ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756993817327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -624,10 +624,49 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      <Modal transparent visible={genderOpen} animationType=\"fade\" onRequestClose={() => !savingGender && setGenderOpen(false)}>\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:12 }}>Select Gender</Text>\r\n \r\n+            {[\"Male\",\"Female\",\"Nonbinary\",\"Prefer not to say\",\"Other\"].map((opt) => (\r\n+              <TouchableOpacity key={opt} onPress={() => setGenderChoice(opt)} style={{ flexDirection:\"row\", alignItems:\"center\", paddingVertical:8 }}>\r\n+                <View style={{\r\n+                  width:18, height:18, borderRadius:9, borderWidth:2, borderColor:\"#5089A3\",\r\n+                  alignItems:\"center\", justifyContent:\"center\", marginRight:10\r\n+                }}>\r\n+                  {genderChoice === opt ? <View style={{ width:10, height:10, borderRadius:5, backgroundColor:\"#5089A3\" }} /> : null}\r\n+                </View>\r\n+                <Text>{opt}</Text>\r\n+              </TouchableOpacity>\r\n+            ))}\r\n \r\n+            {genderChoice === \"Other\" && (\r\n+              <TextInput\r\n+                placeholder=\"Enter your gender\"\r\n+                value={genderOther}\r\n+                onChangeText={setGenderOther}\r\n+                style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginTop:8 }}\r\n+              />\r\n+            )}\r\n+\r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\", marginTop:12 }}>\r\n+              <TouchableOpacity disabled={savingGender} onPress={() => setGenderOpen(false)} style={{ padding:10, marginRight:8 }}>\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingGender} onPress={saveGender} style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}>\r\n+                {savingGender ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n+\r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756993830993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -662,11 +662,36 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      <Modal transparent visible={bdayOpen} animationType=\"fade\" onRequestClose={() => !savingBday && setBdayOpen(false)}>\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:12 }}>Select Birthday</Text>\r\n \r\n+            {bdayValue && (\r\n+              <DateTimePicker\r\n+                mode=\"date\"\r\n+                value={bdayValue}\r\n+                display={Platform.OS === \"ios\" ? \"spinner\" : \"default\"}\r\n+                onChange={(_, d) => d && setBdayValue(d)}\r\n+                maximumDate={new Date()}\r\n+              />\r\n+            )}\r\n \r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\", marginTop:12 }}>\r\n+              <TouchableOpacity disabled={savingBday} onPress={() => setBdayOpen(false)} style={{ padding:10, marginRight:8 }}>\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingBday} onPress={saveBday} style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}>\r\n+                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n \r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756993845609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -689,9 +689,30 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      <Modal transparent visible={ecOpen} animationType=\"fade\" onRequestClose={() => !savingEc && setEcOpen(false)}>\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:8 }}>Emergency Contact</Text>\r\n \r\n+            <TextInput placeholder=\"Contact name\" value={ecName} onChangeText={setEcName}\r\n+              style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:8 }} />\r\n+            <TextInput placeholder=\"Phone number\" keyboardType=\"phone-pad\" value={ecPhone} onChangeText={setEcPhone}\r\n+              style={{ borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:12 }} />\r\n+\r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\" }}>\r\n+              <TouchableOpacity disabled={savingEc} onPress={() => setEcOpen(false)} style={{ padding:10, marginRight:8 }}>\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingEc} onPress={saveEc} style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}>\r\n+                {savingEc ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756994376658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,9 @@\n \r\n   const [bdayOpen, setBdayOpen] = useState(false);\r\n   const [bdayValue, setBdayValue] = useState<Date | null>(null);\r\n   const [savingBday, setSavingBday] = useState(false);\r\n+  const [showAndroidBday, setShowAndroidBday] = useState(false);\r\n \r\n   const [ecOpen, setEcOpen] = useState(false);\r\n   const [ecName, setEcName] = useState(\"\");\r\n   const [ecPhone, setEcPhone] = useState(\"\");\r\n"
                },
                {
                    "date": 1756994404144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -294,11 +294,18 @@\n   };\r\n \r\n   const openBday = () => {\r\n     const d = profile?.birthday ? new Date(profile.birthday) : null;\r\n-    setBdayValue(d && !Number.isNaN(d.getTime()) ? d : new Date());\r\n-    setBdayOpen(true);\r\n+    const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n+    setBdayValue(initial);\r\n+\r\n+    if (Platform.OS === \"android\") {\r\n+      setShowAndroidBday(true);   // show native dialog (no custom modal)\r\n+    } else {\r\n+      setBdayOpen(true);          // iOS: keep your modal + spinner\r\n+    }\r\n   };\r\n+\r\n   const saveBday = async () => {\r\n     if (!bdayValue) return;\r\n     const yyyy = bdayValue.getFullYear();\r\n     const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n"
                },
                {
                    "date": 1756994551497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -719,8 +719,40 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      {Platform.OS === \"android\" && showAndroidBday && (\r\n+        <DateTimePicker\r\n+          mode=\"date\"\r\n+          value={bdayValue ?? new Date()}\r\n+          display=\"calendar\"\r\n+          maximumDate={new Date()}\r\n+          onChange={(_, date) => {\r\n+            // Android returns an event + date; when dismissed, date is undefined\r\n+            setShowAndroidBday(false);          // unmount picker so it won‚Äôt reopen\r\n+            if (date) {\r\n+              setBdayValue(date);\r\n+              // Option A: auto-save after pick\r\n+              saveBday();\r\n+              // Option B: if you want a confirm button instead, just remove saveBday()\r\n+              // and open a small confirm modal or toast here.\r\n+            }\r\n+          }}\r\n+        />\r\n+      )}\r\n+\r\n+      {Platform.OS === \"ios\" && bdayValue && (\r\n+        <DateTimePicker\r\n+          mode=\"date\"\r\n+          value={bdayValue}\r\n+          display=\"spinner\"\r\n+          onChange={(_, d) => d && setBdayValue(d)}\r\n+          maximumDate={new Date()}\r\n+        />\r\n+      )}\r\n+\r\n+\r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756995232593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -675,18 +675,19 @@\n         <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n           <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n             <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:12 }}>Select Birthday</Text>\r\n \r\n-            {bdayValue && (\r\n+            {Platform.OS === \"ios\" && bdayValue && (\r\n               <DateTimePicker\r\n                 mode=\"date\"\r\n                 value={bdayValue}\r\n-                display={Platform.OS === \"ios\" ? \"spinner\" : \"default\"}\r\n+                display=\"spinner\"\r\n                 onChange={(_, d) => d && setBdayValue(d)}\r\n                 maximumDate={new Date()}\r\n               />\r\n             )}\r\n \r\n+\r\n             <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\", marginTop:12 }}>\r\n               <TouchableOpacity disabled={savingBday} onPress={() => setBdayOpen(false)} style={{ padding:10, marginRight:8 }}>\r\n                 <Text>Cancel</Text>\r\n               </TouchableOpacity>\r\n"
                },
                {
                    "date": 1756995248454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -740,20 +740,8 @@\n           }}\r\n         />\r\n       )}\r\n \r\n-      {Platform.OS === \"ios\" && bdayValue && (\r\n-        <DateTimePicker\r\n-          mode=\"date\"\r\n-          value={bdayValue}\r\n-          display=\"spinner\"\r\n-          onChange={(_, d) => d && setBdayValue(d)}\r\n-          maximumDate={new Date()}\r\n-        />\r\n-      )}\r\n-\r\n-\r\n-\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756995269878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -727,16 +727,12 @@\n           value={bdayValue ?? new Date()}\r\n           display=\"calendar\"\r\n           maximumDate={new Date()}\r\n           onChange={(_, date) => {\r\n-            // Android returns an event + date; when dismissed, date is undefined\r\n-            setShowAndroidBday(false);          // unmount picker so it won‚Äôt reopen\r\n+            setShowAndroidBday(false);          \r\n             if (date) {\r\n               setBdayValue(date);\r\n-              // Option A: auto-save after pick\r\n               saveBday();\r\n-              // Option B: if you want a confirm button instead, just remove saveBday()\r\n-              // and open a small confirm modal or toast here.\r\n             }\r\n           }}\r\n         />\r\n       )}\r\n"
                },
                {
                    "date": 1756995689999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,8 +38,9 @@\n   const [bdayOpen, setBdayOpen] = useState(false);\r\n   const [bdayValue, setBdayValue] = useState<Date | null>(null);\r\n   const [savingBday, setSavingBday] = useState(false);\r\n   const [showAndroidBday, setShowAndroidBday] = useState(false);\r\n+  const [androidBdayConfirmOpen, setAndroidBdayConfirmOpen] = useState(false);\r\n \r\n   const [ecOpen, setEcOpen] = useState(false);\r\n   const [ecName, setEcName] = useState(\"\");\r\n   const [ecPhone, setEcPhone] = useState(\"\");\r\n"
                },
                {
                    "date": 1756995726918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -299,14 +299,15 @@\n     const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n     setBdayValue(initial);\r\n \r\n     if (Platform.OS === \"android\") {\r\n-      setShowAndroidBday(true);   // show native dialog (no custom modal)\r\n+      setShowAndroidBday(true);   // show native dialog\r\n     } else {\r\n-      setBdayOpen(true);          // iOS: keep your modal + spinner\r\n+      setBdayOpen(true);          // iOS modal with spinner\r\n     }\r\n   };\r\n \r\n+\r\n   const saveBday = async () => {\r\n     if (!bdayValue) return;\r\n     const yyyy = bdayValue.getFullYear();\r\n     const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n"
                },
                {
                    "date": 1756995770481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -729,17 +729,19 @@\n           value={bdayValue ?? new Date()}\r\n           display=\"calendar\"\r\n           maximumDate={new Date()}\r\n           onChange={(_, date) => {\r\n-            setShowAndroidBday(false);          \r\n+            setShowAndroidBday(false);\r\n+\r\n             if (date) {\r\n               setBdayValue(date);\r\n-              saveBday();\r\n+              setAndroidBdayConfirmOpen(true);\r\n             }\r\n           }}\r\n         />\r\n       )}\r\n \r\n+\r\n       {/* <TouchableOpacity style={styles.deleteButton}>\r\n         <Ionicons name=\"trash-outline\" size={20} color=\"red\" />\r\n         <Text style={{ color: \"red\", marginLeft: 5 }}>Delete Account</Text>\r\n       </TouchableOpacity> */}\r\n"
                },
                {
                    "date": 1756995804490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -700,8 +700,49 @@\n           </View>\r\n         </View>\r\n       </Modal>\r\n \r\n+      <Modal\r\n+        transparent\r\n+        visible={androidBdayConfirmOpen}\r\n+        animationType=\"fade\"\r\n+        onRequestClose={() => !savingBday && setAndroidBdayConfirmOpen(false)}\r\n+      >\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:12 }}>Confirm Birthday</Text>\r\n+\r\n+            <Text style={{ fontSize:14, marginBottom:16 }}>\r\n+              {bdayValue\r\n+                ? bdayValue.toLocaleDateString(undefined, { year:\"numeric\", month:\"short\", day:\"2-digit\" })\r\n+                : \"‚Äî\"}\r\n+            </Text>\r\n+\r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\" }}>\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={() => setAndroidBdayConfirmOpen(false)}\r\n+                style={{ padding:10, marginRight:8 }}\r\n+              >\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={async () => {\r\n+                  await saveBday();                  // uses your existing saveBday()\r\n+                  setAndroidBdayConfirmOpen(false);  // close after save\r\n+                }}\r\n+                style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}\r\n+              >\r\n+                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n       <Modal transparent visible={ecOpen} animationType=\"fade\" onRequestClose={() => !savingEc && setEcOpen(false)}>\r\n         <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n           <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n             <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:8 }}>Emergency Contact</Text>\r\n"
                },
                {
                    "date": 1756996016379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -447,21 +447,8 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[\r\n-              styles.value,\r\n-              { color: profile?.age ? \"#000\" : \"#999\" },\r\n-            ]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View>\r\n-\r\n-        <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n"
                },
                {
                    "date": 1756996157220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -530,9 +530,9 @@\n           <Text style={styles.label}>Emergency Contacts:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: profile?.Econtact ? \"#000\" : \"#999\" },\r\n+              { color: profile?.eContactName ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.eContactName || profile?.eContactPhone\r\n                 ? `${profile?.eContactName || \"‚Äî\"} ‚Ä¢ ${profile?.eContactPhone || \"‚Äî\"}`\r\n                 : \"Set Now\"}\r\n"
                }
            ],
            "date": 1748350378755,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions } from 'react-native';\r\nimport { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\nimport { router } from 'expo-router'; \r\nconst { width, height } = Dimensions.get(\"window\");\r\n\r\nexport default function PHistory() {\r\n  return (\r\n    <View style={styles.container}>\r\n        <Text>Passenger Profile Page</Text>\r\n        <View style={styles.bottomNav}>\r\n            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phome\")}><Ionicons name=\"home\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homepassenger/phistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homepassenger/pprofile\")}><Ionicons name=\"person-outline\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n        </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n});\r\n"
        }
    ]
}