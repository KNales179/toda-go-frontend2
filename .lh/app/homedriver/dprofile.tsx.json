{
    "sourceFile": "app/homedriver/dprofile.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 49,
            "patches": [
                {
                    "date": 1748350667311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748350714642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,10 +10,10 @@\n         <Text>Passenger Profile Page</Text>\r\n         <View style={styles.bottomNav}>\r\n             <TouchableOpacity onPress={() => router.push(\"/homedriver/dhome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n             <TouchableOpacity onPress={() => router.push(\"/homedriver/dhistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person-outline\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+            <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+            <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n         </View>\r\n     </View>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1748448823236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,273 @@\n+import React, { useState } from \"react\";\r\n+import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n+import { router } from 'expo-router';\r\n+import AsyncStorage from '@react-native-async-storage/async-storage';\r\n+import * as ImagePicker from \"expo-image-picker\";\r\n+import { ImagePickerAsset } from \"expo-image-picker\";\r\n+import { API_BASE_URL } from \"../../config\";\r\n+import { useFocusEffect } from \"@react-navigation/native\";\r\n+\r\n+const { width } = Dimensions.get(\"window\");\r\n+\r\n+export default function DProfile() {\r\n+  const [profile, setProfile] = useState<any>(null);\r\n+  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+\r\n+  const fetchProfile = async () => {\r\n+    try {\r\n+      const driverId = await AsyncStorage.getItem(\"driverId\");\r\n+      if (!driverId) return;\r\n+      const response = await fetch(`${API_BASE_URL}/api/driver/${driverId}`);\r\n+      const result = await response.json();\r\n+      if (result.driver) setProfile(result.driver);\r\n+    } catch (error) {\r\n+      console.error(\"❌ Failed to fetch driver profile:\", error);\r\n+    }\r\n+  };\r\n+\r\n+  useFocusEffect(\r\n+    React.useCallback(() => {\r\n+      fetchProfile();\r\n+    }, [])\r\n+  );\r\n+\r\n+  const pickSelfieImage = async () => {\r\n+    if (Platform.OS === \"ios\") {\r\n+      ActionSheetIOS.showActionSheetWithOptions(\r\n+        {\r\n+          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n+          cancelButtonIndex: 2,\r\n+        },\r\n+        async (buttonIndex) => {\r\n+          if (buttonIndex === 0) {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          } else if (buttonIndex === 1) {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        }\r\n+      );\r\n+    } else {\r\n+      Alert.alert(\"Select Option\", \"\", [\r\n+        {\r\n+          text: \"Take a Photo\", onPress: async () => {\r\n+            const result = await ImagePicker.launchCameraAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        },\r\n+        {\r\n+          text: \"Choose from Gallery\", onPress: async () => {\r\n+            const result = await ImagePicker.launchImageLibraryAsync({\r\n+              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n+              allowsEditing: true,\r\n+              quality: 1,\r\n+            });\r\n+            if (!result.canceled && result.assets.length > 0) {\r\n+              setProfileImage(result.assets[0]);\r\n+            }\r\n+          }\r\n+        },\r\n+        { text: \"Cancel\", style: \"cancel\" },\r\n+      ]);\r\n+    }\r\n+  };\r\n+\r\n+  const handleUploadSelfie = async () => {\r\n+    if (!profileImage) {\r\n+      Alert.alert(\"Error\", \"Please select an image first.\");\r\n+      return;\r\n+    }\r\n+    try {\r\n+      const driverId = await AsyncStorage.getItem(\"driverId\");\r\n+      if (!driverId) return;\r\n+      const formData = new FormData();\r\n+      formData.append(\"profileImage\", {\r\n+        uri: profileImage.uri,\r\n+        name: \"profile.jpg\",\r\n+        type: \"image/jpeg\",\r\n+      } as any);\r\n+      const res = await fetch(`${API_BASE_URL}/api/auth/driver/${driverId}/update-profile-image`, {\r\n+        method: \"PATCH\",\r\n+        body: formData,\r\n+      });\r\n+      if (res.ok) {\r\n+        Alert.alert(\"Success\", \"Profile image updated!\");\r\n+        const updatedProfile = await res.json();\r\n+        setProfile(updatedProfile.driver);\r\n+        setProfileImage(null);\r\n+      } else {\r\n+        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n+      }\r\n+    } catch (error) {\r\n+      console.error(\"❌ Upload error:\", error);\r\n+      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  const handleLogout = async () => {\r\n+    try {\r\n+      await AsyncStorage.removeItem(\"driverId\");\r\n+      Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n+      router.replace(\"../login_and_reg/dlogin\");\r\n+    } catch (error) {\r\n+      console.error(\"❌ Logout error:\", error);\r\n+      Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n+    }\r\n+  };\r\n+\r\n+  // For drivers, show driver info (modify the fields as per your Driver model)\r\n+  return (\r\n+    <View style={styles.container}>\r\n+      <View style={styles.profileContainer}>\r\n+        <View style={styles.row}>\r\n+          <TouchableOpacity onPress={pickSelfieImage}>\r\n+            <Image\r\n+              source={\r\n+                profileImage\r\n+                  ? { uri: profileImage.uri }\r\n+                  : profile?.profileImage\r\n+                    ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                    : require(\"../../assets/images/profile-placeholder.jpg\")\r\n+              }\r\n+              style={styles.profileImage}\r\n+            />\r\n+          </TouchableOpacity>\r\n+          <Text style={styles.username}>\r\n+            {profile?.firstName || \"\"} {profile?.lastName || \"\"}\r\n+          </Text>\r\n+        </View>\r\n+        <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n+          <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n+          <Text style={styles.lagout}>LogOut</Text>\r\n+        </TouchableOpacity>\r\n+        {profileImage && (\r\n+          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+          </TouchableOpacity>\r\n+        )}\r\n+      </View>\r\n+\r\n+      <View style={styles.accountContainer}>\r\n+        <Text style={styles.sectionTitle}>My Account</Text>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Full Name:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[\r\n+              styles.value,\r\n+              { color: (profile?.firstName || profile?.middleName || profile?.lastName) ? \"#000\" : \"#999\" },\r\n+            ]}>\r\n+              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Gender:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.gender || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Age:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.age ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.age || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Contact Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.contact ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.contact || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Birthday:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.birthday ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Email Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.email ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.email || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>License Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.licenseId || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n+        {/* Add more driver-specific fields as needed! */}\r\n+      </View>\r\n+\r\n+      <View style={styles.bottomNav}>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homedriver/dhome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homedriver/dhistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n+        <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n+      </View>\r\n+    </View>\r\n+  );\r\n+}\r\n+\r\n+const styles = StyleSheet.create({\r\n+  container: { flex: 1, backgroundColor: \"#fff\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection: \"row\", marginHorizontal: 20, justifyContent: \"space-between\" },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n+  lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n+  uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n+  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n+  label: { fontSize: 14, color: \"#333\" },\r\n+  value: { fontSize: 14, color: \"#333\" },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent: 'flex-end', alignItems: \"center\", marginTop: 20, width: width - 40 },\r\n+  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n+});\r\n"
                },
                {
                    "date": 1748449542505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n const { width } = Dimensions.get(\"window\");\r\n \r\n export default function DProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n-  const [profileImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+  const [selfieImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n \r\n   const fetchProfile = async () => {\r\n     try {\r\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n@@ -92,18 +92,18 @@\n     }\r\n   };\r\n \r\n   const handleUploadSelfie = async () => {\r\n-    if (!profileImage) {\r\n+    if (!selfieImage) {\r\n       Alert.alert(\"Error\", \"Please select an image first.\");\r\n       return;\r\n     }\r\n     try {\r\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n       if (!driverId) return;\r\n       const formData = new FormData();\r\n       formData.append(\"profileImage\", {\r\n-        uri: profileImage.uri,\r\n+        uri: selfieImage.uri,\r\n         name: \"profile.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n       const res = await fetch(`${API_BASE_URL}/api/auth/driver/${driverId}/update-profile-image`, {\r\n@@ -142,12 +142,12 @@\n         <View style={styles.row}>\r\n           <TouchableOpacity onPress={pickSelfieImage}>\r\n             <Image\r\n               source={\r\n-                profileImage\r\n-                  ? { uri: profileImage.uri }\r\n-                  : profile?.profileImage\r\n-                    ? { uri: `${API_BASE_URL}/${profile.profileImage.replace(/\\\\/g, \"/\")}` }\r\n+                selfieImage\r\n+                  ? { uri: selfieImage.uri }\r\n+                  : profile?.selfieImage\r\n+                    ? { uri: `${API_BASE_URL}/${profile.selfieImage.replace(/\\\\/g, \"/\")}` }\r\n                     : require(\"../../assets/images/profile-placeholder.jpg\")\r\n               }\r\n               style={styles.profileImage}\r\n             />\r\n@@ -159,9 +159,9 @@\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n         </TouchableOpacity>\r\n-        {profileImage && (\r\n+        {selfieImage && (\r\n           <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n             <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n           </TouchableOpacity>\r\n         )}\r\n@@ -270,28 +270,4 @@\n   value: { fontSize: 14, color: \"#333\" },\r\n   deleteButton: { flexDirection: \"row\", justifyContent: 'flex-end', alignItems: \"center\", marginTop: 20, width: width - 40 },\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n });\r\n-import React from 'react';\r\n-import { View, Text, StyleSheet, TouchableOpacity, Dimensions } from 'react-native';\r\n-import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n-import { router } from 'expo-router'; \r\n-const { width, height } = Dimensions.get(\"window\");\r\n-\r\n-export default function PHistory() {\r\n-  return (\r\n-    <View style={styles.container}>\r\n-        <Text>Passenger Profile Page</Text>\r\n-        <View style={styles.bottomNav}>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dhome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dhistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-            <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-        </View>\r\n-    </View>\r\n-  );\r\n-}\r\n-\r\n-const styles = StyleSheet.create({\r\n-  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n"
                },
                {
                    "date": 1748454439783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n               style={styles.profileImage}\r\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>\r\n-            {profile?.firstName || \"\"} {profile?.lastName || \"\"}\r\n+            {profile?.driverFirstName || \"\"} {profile?.lastName || \"\"}\r\n           </Text>\r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n"
                },
                {
                    "date": 1748454449816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n               style={styles.profileImage}\r\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>\r\n-            {profile?.driverFirstName || \"\"} {profile?.lastName || \"\"}\r\n+            {profile?.driverFirstName || \"\"} {profile?.driverLastName || \"\"}\r\n           </Text>\r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n"
                },
                {
                    "date": 1748454488572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n               style={styles.profileImage}\r\n             />\r\n           </TouchableOpacity>\r\n           <Text style={styles.username}>\r\n-            {profile?.driverFirstName || \"\"} {profile?.driverLastName || \"\"}\r\n+            {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n           </Text>\r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n@@ -174,9 +174,9 @@\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: (profile?.firstName || profile?.middleName || profile?.lastName) ? \"#000\" : \"#999\" },\r\n+              { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.lastName) ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n"
                },
                {
                    "date": 1748454502582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -174,9 +174,9 @@\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.lastName) ? \"#000\" : \"#999\" },\r\n+              { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.driverLastName) ? \"#000\" : \"#999\" },\r\n             ]}>\r\n               {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n"
                },
                {
                    "date": 1748454522297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,9 +176,9 @@\n             <Text style={[\r\n               styles.value,\r\n               { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.driverLastName) ? \"#000\" : \"#999\" },\r\n             ]}>\r\n-              {profile?.firstName || \"\"} {profile?.middleName || \"\"} {profile?.lastName || \"\"}\r\n+              {profile?.driverFirstName || \"\"} {profile?.driverMiddleName || \"\"} {profile?.driverLastName || \"\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748454631558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,23 +192,23 @@\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n-        <View style={styles.infoRow}>\r\n+        {/* <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Age:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.age ? \"#000\" : \"#999\" }]}>\r\n               {profile?.age || \"Set Now\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n-        </View>\r\n+        </View> */}\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.contact ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.contact || \"Set Now\"}\r\n+            <Text style={[styles.value, { color: profile?.driverPhone ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.driverPhone || \"Set Now\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748454667482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.birthday ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.birthday ? profile.birthday.slice(0, 10) : \"Not Provided\"}\r\n+              {profile?.driverBirthday ? profile.driverBirthday.slice(0, 10) : \"Not Provided\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748454694172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,10 +215,10 @@\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.birthday ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.driverBirthday ? profile.driverBirthday.slice(0, 10) : \"Not Provided\"}\r\n+            <Text style={[styles.value, { color: profile?.driverBirthdate ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.driverBirthdate ? profile.driverBirthdate.slice(0, 10) : \"Not Provided\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748454710405,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,8 +241,18 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>License Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.licenseId || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n         {/* Add more driver-specific fields as needed! */}\r\n       </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n"
                },
                {
                    "date": 1748454721353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,9 +243,9 @@\n           </View>\r\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>License Number:</Text>\r\n+          <Text style={styles.label}>Francise Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n               {profile?.licenseId || \"Set Now\"}\r\n             </Text>\r\n"
                },
                {
                    "date": 1748454854686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,10 +245,10 @@\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Francise Number:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.licenseId || \"Set Now\"}\r\n+            <Text style={[styles.value, { color: profile?.franchiseNumber ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.franchiseNumber || \"Set Now\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748454917671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,9 +167,9 @@\n         )}\r\n       </View>\r\n \r\n       <View style={styles.accountContainer}>\r\n-        <Text style={styles.sectionTitle}>My Account</Text>\r\n+        <Text style={styles.sectionTitle}>Personal Information</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n@@ -251,8 +251,18 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Francise Number:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.franchiseNumber ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.franchiseNumber || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n         {/* Add more driver-specific fields as needed! */}\r\n       </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n"
                },
                {
                    "date": 1748454931015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,8 +251,10 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+        \r\n+        <Text style={styles.sectionTitle}>Personal Information</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Francise Number:</Text>\r\n           <View style={styles.row}>\r\n"
                },
                {
                    "date": 1748454953038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,9 +251,9 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n-        \r\n+\r\n         <Text style={styles.sectionTitle}>Personal Information</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Francise Number:</Text>\r\n@@ -284,9 +284,9 @@\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginHorizontal: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1748454959999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,9 +284,9 @@\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginHorizontal: 10 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1748454979160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,9 +284,9 @@\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 15 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1748454984636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,9 +284,9 @@\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 15 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1748455024219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,9 @@\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n-        <Text style={styles.sectionTitle}>Personal Information</Text>\r\n+        <Text style={styles.sectionTitle}>???? Information</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Francise Number:</Text>\r\n           <View style={styles.row}>\r\n"
                },
                {
                    "date": 1748455081349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,8 +232,10 @@\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n+        <Text style={styles.sectionTitle}>???? Information</Text>\r\n+\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>License Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n@@ -252,15 +254,13 @@\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n-        <Text style={styles.sectionTitle}>???? Information</Text>\r\n-\r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Francise Number:</Text>\r\n+          <Text style={styles.label}>Toda Name:</Text>\r\n           <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.franchiseNumber ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.franchiseNumber || \"Set Now\"}\r\n+            <Text style={[styles.value, { color: profile?.todaName ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.todaName || \"Set Now\"}\r\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n"
                },
                {
                    "date": 1748455111919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -263,8 +263,18 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Sector:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.sector ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.sector || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n         {/* Add more driver-specific fields as needed! */}\r\n       </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n"
                },
                {
                    "date": 1748455156457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,8 +273,18 @@\n             </Text>\r\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n+\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Experiece:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.experienceYears ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.experienceYears || \"Set Now\"}\r\n+            </Text>\r\n+            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+          </View>\r\n+        </View>\r\n         {/* Add more driver-specific fields as needed! */}\r\n       </View>\r\n \r\n       <View style={styles.bottomNav}>\r\n"
                },
                {
                    "date": 1748455187778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,9 +232,9 @@\n             <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n           </View>\r\n         </View>\r\n \r\n-        <Text style={styles.sectionTitle}>???? Information</Text>\r\n+        <Text style={styles.sectionTitle}>Vehicle Details</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>License Number:</Text>\r\n           <View style={styles.row}>\r\n"
                },
                {
                    "date": 1748455884966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,9 +298,9 @@\n }\r\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n-  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection: \"row\", marginHorizontal: 20, justifyContent: \"space-between\" },\r\n+  profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n   username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n"
                },
                {
                    "date": 1748455915055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,16 +300,16 @@\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n   profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft: 20 },\r\n-  lagout: { fontSize: 14, fontWeight: \"bold\" },\r\n+  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent: 'flex-end', alignItems: \"center\", marginTop: 20, width: width - 40 },\r\n+  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n   bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n-});\r\n+});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748455959106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,13 +159,9 @@\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n         </TouchableOpacity>\r\n-        {selfieImage && (\r\n-          <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-            <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-          </TouchableOpacity>\r\n-        )}\r\n+        \r\n       </View>\r\n \r\n       <View style={styles.accountContainer}>\r\n         <Text style={styles.sectionTitle}>Personal Information</Text>\r\n"
                },
                {
                    "date": 1748455985197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,8 +154,13 @@\n           </TouchableOpacity>\r\n           <Text style={styles.username}>\r\n             {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n           </Text>\r\n+          {selfieImage && (\r\n+            <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+              <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+            </TouchableOpacity>\r\n+          )}\r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n"
                },
                {
                    "date": 1748456004605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,16 +151,19 @@\n               }\r\n               style={styles.profileImage}\r\n             />\r\n           </TouchableOpacity>\r\n-          <Text style={styles.username}>\r\n-            {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n-          </Text>\r\n-          {selfieImage && (\r\n-            <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-              <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n-            </TouchableOpacity>\r\n-          )}\r\n+          <View>\r\n+            <Text style={styles.username}>\r\n+              {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n+            </Text>\r\n+            {selfieImage && (\r\n+              <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n+                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+              </TouchableOpacity>\r\n+            )}\r\n+          </View>\r\n+          \r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n"
                },
                {
                    "date": 1748456019816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,9 +157,9 @@\n               {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n             </Text>\r\n             {selfieImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Upload New Profile Image</Text>\r\n+                <Text style={{ color: \"#fff\" }}>Upload Profile</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n           \r\n"
                },
                {
                    "date": 1748456026312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,9 +157,9 @@\n               {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n             </Text>\r\n             {selfieImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n-                <Text style={{ color: \"#fff\" }}>Upload Profile</Text>\r\n+                <Text style={{ color: \"#fff\" }}>Upload Profile Pic</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n           \r\n"
                },
                {
                    "date": 1748456083122,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,10 +303,10 @@\n \r\n const styles = StyleSheet.create({\r\n   container: { flex: 1, backgroundColor: \"#fff\" },\r\n   profileContainer: { alignItems: \"center\", paddingTop: 50, flexDirection:\"row\", marginHorizontal:20, justifyContent: \"space-between\"},\r\n-  profileImage: { width: 100, height: 100, borderRadius: 50, marginBottom: 10 },\r\n-  username: { fontSize: 18, fontWeight: \"bold\", marginBottom: 10, paddingLeft:20 },\r\n+  profileImage: { width: 100, height: 100, borderRadius: 50},\r\n+  username: { fontSize: 18, fontWeight: \"bold\", paddingLeft:20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n"
                },
                {
                    "date": 1748456130116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -307,9 +307,9 @@\n   profileImage: { width: 100, height: 100, borderRadius: 50},\r\n   username: { fontSize: 18, fontWeight: \"bold\", paddingLeft:20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n-  accountContainer: { marginTop: 20, paddingHorizontal: 20 },\r\n+  accountContainer: { marginTop: 10, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n   label: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1748456166784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,9 +308,9 @@\n   username: { fontSize: 18, fontWeight: \"bold\", paddingLeft:20 },\r\n   lagout: { fontSize: 14, fontWeight: \"bold\"},\r\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 10, paddingHorizontal: 20 },\r\n-  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginBottom: 10 },\r\n+  sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n   row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n   label: { fontSize: 14, color: \"#333\" },\r\n   value: { fontSize: 14, color: \"#333\" },\r\n"
                },
                {
                    "date": 1756649707480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n \r\n export default function DProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [selfieImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n+  const [emailSending, setEmailSending] = useState(false);\r\n \r\n   const fetchProfile = async () => {\r\n     try {\r\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n@@ -289,15 +290,8 @@\n           </View>\r\n         </View>\r\n         {/* Add more driver-specific fields as needed! */}\r\n       </View>\r\n-\r\n-      <View style={styles.bottomNav}>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homedriver/dhome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homedriver/dhistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles-outline\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n-        <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n-      </View>\r\n     </View>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1756649721128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,27 @@\n   const [profile, setProfile] = useState<any>(null);\r\n   const [selfieImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n   const [emailSending, setEmailSending] = useState(false);\r\n \r\n+  const resendDriverEmail = async () => {\r\n+    if (!profile?.email) return Alert.alert(\"Error\", \"No email on file.\");\r\n+    try {\r\n+      setEmailSending(true);\r\n+      const r = await fetch(`${API_BASE_URL}/api/auth/driver/resend-verification`, {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ email: profile.email }),\r\n+      });\r\n+      const j = await r.json();\r\n+      if (r.ok) Alert.alert(\"Sent\", j.message || \"Verification email sent.\");\r\n+      else Alert.alert(\"Error\", j.message || j.error || \"Failed to send email.\");\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Network error\");\r\n+    } finally {\r\n+      setEmailSending(false);\r\n+    }\r\n+  };\r\n+\r\n   const fetchProfile = async () => {\r\n     try {\r\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n       if (!driverId) return;\r\n"
                },
                {
                    "date": 1756649746717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,16 +248,49 @@\n         </View>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n-          <View style={styles.row}>\r\n+          <View style={{ alignItems: \"flex-end\" }}>\r\n             <Text style={[styles.value, { color: profile?.email ? \"#000\" : \"#999\" }]}>\r\n               {profile?.email || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+\r\n+            <View style={{ flexDirection: \"row\", alignItems: \"center\", marginTop: 4 }}>\r\n+              <View\r\n+                style={{\r\n+                  paddingHorizontal: 8,\r\n+                  paddingVertical: 2,\r\n+                  borderRadius: 12,\r\n+                  backgroundColor: profile?.isVerified ? \"#E6F7E9\" : \"#FFF4E5\",\r\n+                  marginRight: 8,\r\n+                }}\r\n+              >\r\n+                <Text style={{ color: profile?.isVerified ? \"#2E7D32\" : \"#B26A00\", fontSize: 12 }}>\r\n+                  {profile?.isVerified ? \"Verified\" : \"Not verified\"}\r\n+                </Text>\r\n+              </View>\r\n+\r\n+              {!profile?.isVerified && (\r\n+                <TouchableOpacity\r\n+                  disabled={emailSending}\r\n+                  onPress={resendDriverEmail}\r\n+                  style={{\r\n+                    paddingHorizontal: 10,\r\n+                    paddingVertical: 6,\r\n+                    borderRadius: 8,\r\n+                    backgroundColor: emailSending ? \"#ccc\" : \"#5089A3\",\r\n+                  }}\r\n+                >\r\n+                  <Text style={{ color: \"#fff\", fontSize: 12 }}>\r\n+                    {emailSending ? \"Sending...\" : \"Verify email\"}\r\n+                  </Text>\r\n+                </TouchableOpacity>\r\n+              )}\r\n+            </View>\r\n           </View>\r\n         </View>\r\n \r\n+\r\n         <Text style={styles.sectionTitle}>Vehicle Details</Text>\r\n \r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>License Number:</Text>\r\n"
                },
                {
                    "date": 1756813038678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,39 +112,38 @@\n     }\r\n   };\r\n \r\n   const handleUploadSelfie = async () => {\r\n-    if (!selfieImage) {\r\n-      Alert.alert(\"Error\", \"Please select an image first.\");\r\n-      return;\r\n-    }\r\n+    if (!selfieImage) return Alert.alert(\"Error\", \"Please select an image first.\");\r\n     try {\r\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n       if (!driverId) return;\r\n+\r\n       const formData = new FormData();\r\n-      formData.append(\"profileImage\", {\r\n+      formData.append(\"selfieImage\", {\r\n         uri: selfieImage.uri,\r\n-        name: \"profile.jpg\",\r\n+        name: \"selfie.jpg\",\r\n         type: \"image/jpeg\",\r\n       } as any);\r\n-      const res = await fetch(`${API_BASE_URL}/api/auth/driver/${driverId}/update-profile-image`, {\r\n-        method: \"PATCH\",\r\n+\r\n+      const res = await fetch(`${API_BASE_URL}/api/driver/${driverId}/photo`, {\r\n+        method: \"POST\",\r\n         body: formData,\r\n       });\r\n-      if (res.ok) {\r\n-        Alert.alert(\"Success\", \"Profile image updated!\");\r\n-        const updatedProfile = await res.json();\r\n-        setProfile(updatedProfile.driver);\r\n-        setProfileImage(null);\r\n-      } else {\r\n-        Alert.alert(\"Error\", \"Failed to upload image.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"❌ Upload error:\", error);\r\n-      Alert.alert(\"Error\", \"Something went wrong. Try again.\");\r\n+\r\n+      const j = await res.json();\r\n+      if (!res.ok) throw new Error(j?.message || \"Failed to upload image\");\r\n+\r\n+      setProfile(j.driver);\r\n+      setProfileImage(null);\r\n+      Alert.alert(\"Success\", \"Profile image updated!\");\r\n+    } catch (e: any) {\r\n+      console.error(\"❌ Upload error:\", e);\r\n+      Alert.alert(\"Error\", e.message || \"Something went wrong. Try again.\");\r\n     }\r\n   };\r\n \r\n+\r\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"driverId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n"
                },
                {
                    "date": 1756814307315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,9 +172,9 @@\n             />\r\n           </TouchableOpacity>\r\n           <View>\r\n             <Text style={styles.username}>\r\n-              {profile?.driverFirstName || \"\"}{profile?.driverLastName || \"\"}\r\n+              {[profile?.driverFirstName, profile?.driverLastName].filter(Boolean).join(\" \")}\r\n             </Text>\r\n             {selfieImage && (\r\n               <TouchableOpacity style={styles.uploadButton} onPress={handleUploadSelfie}>\r\n                 <Text style={{ color: \"#fff\" }}>Upload Profile Pic</Text>\r\n"
                },
                {
                    "date": 1757010073207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,62 @@\n import React, { useState } from \"react\";\r\n-import { View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert, Platform, ActionSheetIOS } from \"react-native\";\r\n+import {\r\n+  View, Text, StyleSheet, Dimensions, TouchableOpacity, Image, Alert,\r\n+  Platform, ActionSheetIOS, Modal, TextInput, ActivityIndicator, ScrollView\r\n+} from \"react-native\";\r\n import { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\n import { router } from 'expo-router';\r\n import AsyncStorage from '@react-native-async-storage/async-storage';\r\n import * as ImagePicker from \"expo-image-picker\";\r\n import { ImagePickerAsset } from \"expo-image-picker\";\r\n import { API_BASE_URL } from \"../../config\";\r\n import { useFocusEffect } from \"@react-navigation/native\";\r\n+import DateTimePicker from \"@react-native-community/datetimepicker\";\r\n \r\n const { width } = Dimensions.get(\"window\");\r\n \r\n+// enums (mirror backend)\r\n+const SECTORS = [\"East\", \"West\", \"North\", \"South\", \"Other\"] as const;\r\n+const EXP_YEARS = [\"1-5 taon\", \"6-10 taon\", \"16-20 taon\", \"20 taon pataas\"] as const;\r\n+\r\n export default function DProfile() {\r\n   const [profile, setProfile] = useState<any>(null);\r\n   const [selfieImage, setProfileImage] = useState<ImagePickerAsset | null>(null);\r\n   const [emailSending, setEmailSending] = useState(false);\r\n \r\n+  // Modals state\r\n+  const [nameOpen, setNameOpen] = useState(false);\r\n+  const [firstNameEdit, setFirstNameEdit] = useState(\"\");\r\n+  const [middleNameEdit, setMiddleNameEdit] = useState(\"\");\r\n+  const [lastNameEdit, setLastNameEdit] = useState(\"\");\r\n+  const [savingName, setSavingName] = useState(false);\r\n+\r\n+  const [genderOpen, setGenderOpen] = useState(false);\r\n+  const [genderChoice, setGenderChoice] = useState<string>(\"\");\r\n+  const [genderOther, setGenderOther] = useState(\"\");\r\n+  const [savingGender, setSavingGender] = useState(false);\r\n+\r\n+  const [bdayOpen, setBdayOpen] = useState(false);          // iOS custom modal\r\n+  const [bdayValue, setBdayValue] = useState<Date | null>(null);\r\n+  const [savingBday, setSavingBday] = useState(false);\r\n+  const [showAndroidBday, setShowAndroidBday] = useState(false); // Android native dialog\r\n+\r\n+  const [phoneOpen, setPhoneOpen] = useState(false);\r\n+  const [phoneValue, setPhoneValue] = useState(\"\");\r\n+  const [savingPhone, setSavingPhone] = useState(false);\r\n+\r\n+  const [addrOpen, setAddrOpen] = useState(false);\r\n+  const [addrValue, setAddrValue] = useState(\"\");\r\n+  const [savingAddr, setSavingAddr] = useState(false);\r\n+\r\n+  const [vehOpen, setVehOpen] = useState(false);\r\n+  const [franchiseValue, setFranchiseValue] = useState(\"\");\r\n+  const [todaValue, setTodaValue] = useState(\"\");\r\n+  const [sectorValue, setSectorValue] = useState<string>(\"\");\r\n+  const [expValue, setExpValue] = useState<string>(\"\");\r\n+  const [licenseValue, setLicenseValue] = useState(\"\");\r\n+  const [savingVeh, setSavingVeh] = useState(false);\r\n+\r\n   const resendDriverEmail = async () => {\r\n     if (!profile?.email) return Alert.alert(\"Error\", \"No email on file.\");\r\n     try {\r\n       setEmailSending(true);\r\n@@ -51,63 +92,33 @@\n       fetchProfile();\r\n     }, [])\r\n   );\r\n \r\n+  // ---- Selfie upload (unchanged) ----\r\n   const pickSelfieImage = async () => {\r\n     if (Platform.OS === \"ios\") {\r\n       ActionSheetIOS.showActionSheetWithOptions(\r\n-        {\r\n-          options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"],\r\n-          cancelButtonIndex: 2,\r\n-        },\r\n+        { options: [\"Take a Photo\", \"Choose from Gallery\", \"Cancel\"], cancelButtonIndex: 2 },\r\n         async (buttonIndex) => {\r\n           if (buttonIndex === 0) {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n+            const result = await ImagePicker.launchCameraAsync({ mediaTypes: ImagePicker.MediaTypeOptions.Images, allowsEditing: true, quality: 1 });\r\n+            if (!result.canceled && result.assets.length > 0) setProfileImage(result.assets[0]);\r\n           } else if (buttonIndex === 1) {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n+            const result = await ImagePicker.launchImageLibraryAsync({ mediaTypes: ImagePicker.MediaTypeOptions.Images, allowsEditing: true, quality: 1 });\r\n+            if (!result.canceled && result.assets.length > 0) setProfileImage(result.assets[0]);\r\n           }\r\n         }\r\n       );\r\n     } else {\r\n       Alert.alert(\"Select Option\", \"\", [\r\n-        {\r\n-          text: \"Take a Photo\", onPress: async () => {\r\n-            const result = await ImagePicker.launchCameraAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }\r\n-        },\r\n-        {\r\n-          text: \"Choose from Gallery\", onPress: async () => {\r\n-            const result = await ImagePicker.launchImageLibraryAsync({\r\n-              mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n-              allowsEditing: true,\r\n-              quality: 1,\r\n-            });\r\n-            if (!result.canceled && result.assets.length > 0) {\r\n-              setProfileImage(result.assets[0]);\r\n-            }\r\n-          }\r\n-        },\r\n+        { text: \"Take a Photo\", onPress: async () => {\r\n+          const result = await ImagePicker.launchCameraAsync({ mediaTypes: ImagePicker.MediaTypeOptions.Images, allowsEditing: true, quality: 1 });\r\n+          if (!result.canceled && result.assets.length > 0) setProfileImage(result.assets[0]);\r\n+        }},\r\n+        { text: \"Choose from Gallery\", onPress: async () => {\r\n+          const result = await ImagePicker.launchImageLibraryAsync({ mediaTypes: ImagePicker.MediaTypeOptions.Images, allowsEditing: true, quality: 1 });\r\n+          if (!result.canceled && result.assets.length > 0) setProfileImage(result.assets[0]);\r\n+        }},\r\n         { text: \"Cancel\", style: \"cancel\" },\r\n       ]);\r\n     }\r\n   };\r\n@@ -118,19 +129,11 @@\n       const driverId = await AsyncStorage.getItem(\"driverId\");\r\n       if (!driverId) return;\r\n \r\n       const formData = new FormData();\r\n-      formData.append(\"selfieImage\", {\r\n-        uri: selfieImage.uri,\r\n-        name: \"selfie.jpg\",\r\n-        type: \"image/jpeg\",\r\n-      } as any);\r\n+      formData.append(\"selfieImage\", { uri: selfieImage.uri, name: \"selfie.jpg\", type: \"image/jpeg\" } as any);\r\n \r\n-      const res = await fetch(`${API_BASE_URL}/api/driver/${driverId}/photo`, {\r\n-        method: \"POST\",\r\n-        body: formData,\r\n-      });\r\n-\r\n+      const res = await fetch(`${API_BASE_URL}/api/driver/${driverId}/photo`, { method: \"POST\", body: formData });\r\n       const j = await res.json();\r\n       if (!res.ok) throw new Error(j?.message || \"Failed to upload image\");\r\n \r\n       setProfile(j.driver);\r\n@@ -141,9 +144,181 @@\n       Alert.alert(\"Error\", e.message || \"Something went wrong. Try again.\");\r\n     }\r\n   };\r\n \r\n+  // ---- Helpers ----\r\n+  const fmtDate = (iso?: string) => {\r\n+    if (!iso) return null;\r\n+    const d = new Date(iso);\r\n+    if (Number.isNaN(d.getTime())) return null;\r\n+    return d.toLocaleDateString(undefined, { year: \"numeric\", month: \"short\", day: \"2-digit\" });\r\n+  };\r\n \r\n+  const patchDriver = async (payload: Record<string, any>) => {\r\n+    const driverId = await AsyncStorage.getItem(\"driverId\");\r\n+    if (!driverId) throw new Error(\"Missing driverId\");\r\n+    const res = await fetch(`${API_BASE_URL}/api/driver/${driverId}`, {\r\n+      method: \"PATCH\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify(payload),\r\n+    });\r\n+    const j = await res.json();\r\n+    if (!res.ok) throw new Error(j?.message || \"Update failed\");\r\n+    setProfile(j.driver);\r\n+  };\r\n+\r\n+  // ---- Name modal ----\r\n+  const openName = () => {\r\n+    setFirstNameEdit(profile?.driverFirstName || \"\");\r\n+    setMiddleNameEdit(profile?.driverMiddleName || \"\");\r\n+    setLastNameEdit(profile?.driverLastName || \"\");\r\n+    setNameOpen(true);\r\n+  };\r\n+  const saveName = async () => {\r\n+    try {\r\n+      setSavingName(true);\r\n+      await patchDriver({\r\n+        driverFirstName: firstNameEdit.trim(),\r\n+        driverMiddleName: middleNameEdit.trim(),\r\n+        driverLastName: lastNameEdit.trim(),\r\n+      });\r\n+      setNameOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save name\");\r\n+    } finally {\r\n+      setSavingName(false);\r\n+    }\r\n+  };\r\n+\r\n+  // ---- Gender modal ----\r\n+  const openGender = () => {\r\n+    const current = profile?.gender || \"\";\r\n+    const known = [\"Male\",\"Female\",\"Nonbinary\",\"Prefer not to say\"];\r\n+    if (known.includes(current)) {\r\n+      setGenderChoice(current);\r\n+      setGenderOther(\"\");\r\n+    } else if (current) {\r\n+      setGenderChoice(\"Other\");\r\n+      setGenderOther(current);\r\n+    } else {\r\n+      setGenderChoice(\"\");\r\n+      setGenderOther(\"\");\r\n+    }\r\n+    setGenderOpen(true);\r\n+  };\r\n+  const saveGender = async () => {\r\n+    const value = genderChoice === \"Other\" ? genderOther.trim() : genderChoice;\r\n+    if (!value) return Alert.alert(\"Gender\", \"Please choose an option.\");\r\n+    if (genderChoice === \"Other\" && !genderOther.trim()) {\r\n+      return Alert.alert(\"Gender\", \"Please enter a custom gender.\");\r\n+    }\r\n+    try {\r\n+      setSavingGender(true);\r\n+      await patchDriver({ gender: value });\r\n+      setGenderOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save gender\");\r\n+    } finally {\r\n+      setSavingGender(false);\r\n+    }\r\n+  };\r\n+\r\n+  // ---- Birthday modal / picker ----\r\n+  const openBday = () => {\r\n+    const d = profile?.driverBirthdate ? new Date(profile.driverBirthdate) : null;\r\n+    const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n+    setBdayValue(initial);\r\n+    if (Platform.OS === \"android\") {\r\n+      setShowAndroidBday(true);\r\n+    } else {\r\n+      setBdayOpen(true);\r\n+    }\r\n+  };\r\n+  const saveBday = async () => {\r\n+    if (!bdayValue) return;\r\n+    const yyyy = bdayValue.getFullYear();\r\n+    const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n+    const dd = String(bdayValue.getDate()).padStart(2,\"0\");\r\n+    const iso = `${yyyy}-${mm}-${dd}`;\r\n+    try {\r\n+      setSavingBday(true);\r\n+      await patchDriver({ driverBirthdate: iso });\r\n+      setBdayOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save birthday\");\r\n+    } finally {\r\n+      setSavingBday(false);\r\n+    }\r\n+  };\r\n+\r\n+  // ---- Phone ----\r\n+  const openPhone = () => {\r\n+    setPhoneValue(profile?.driverPhone || \"\");\r\n+    setPhoneOpen(true);\r\n+  };\r\n+  const savePhone = async () => {\r\n+    if (!phoneValue.trim()) return Alert.alert(\"Phone\", \"Enter a phone number.\");\r\n+    try {\r\n+      setSavingPhone(true);\r\n+      await patchDriver({ driverPhone: phoneValue.trim() });\r\n+      setPhoneOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save phone\");\r\n+    } finally {\r\n+      setSavingPhone(false);\r\n+    }\r\n+  };\r\n+\r\n+  // ---- Address ----\r\n+  const openAddr = () => {\r\n+    setAddrValue(profile?.homeAddress || \"\");\r\n+    setAddrOpen(true);\r\n+  };\r\n+  const saveAddr = async () => {\r\n+    try {\r\n+      setSavingAddr(true);\r\n+      await patchDriver({ homeAddress: addrValue.trim() });\r\n+      setAddrOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save address\");\r\n+    } finally {\r\n+      setSavingAddr(false);\r\n+    }\r\n+  };\r\n+\r\n+  // ---- Vehicle block (franchise/toda/sector/experience/licenseId) ----\r\n+  const openVeh = () => {\r\n+    setFranchiseValue(profile?.franchiseNumber || \"\");\r\n+    setTodaValue(profile?.todaName || \"\");\r\n+    setSectorValue(profile?.sector || \"\");\r\n+    setExpValue(profile?.experienceYears || \"\");\r\n+    setLicenseValue(profile?.licenseId || \"\");\r\n+    setVehOpen(true);\r\n+  };\r\n+  const saveVeh = async () => {\r\n+    if (sectorValue && !SECTORS.includes(sectorValue as any)) {\r\n+      return Alert.alert(\"Sector\", \"Please select a valid sector.\");\r\n+    }\r\n+    if (expValue && !EXP_YEARS.includes(expValue as any)) {\r\n+      return Alert.alert(\"Experience\", \"Please select a valid experience range.\");\r\n+    }\r\n+    try {\r\n+      setSavingVeh(true);\r\n+      await patchDriver({\r\n+        franchiseNumber: franchiseValue.trim(),\r\n+        todaName: todaValue.trim(),\r\n+        sector: sectorValue.trim(),\r\n+        experienceYears: expValue.trim(),\r\n+        licenseId: licenseValue.trim(),\r\n+      });\r\n+      setVehOpen(false);\r\n+    } catch (e:any) {\r\n+      Alert.alert(\"Error\", e.message || \"Failed to save vehicle details\");\r\n+    } finally {\r\n+      setSavingVeh(false);\r\n+    }\r\n+  };\r\n+\r\n   const handleLogout = async () => {\r\n     try {\r\n       await AsyncStorage.removeItem(\"driverId\");\r\n       Alert.alert(\"Logged out\", \"You have been logged out successfully.\");\r\n@@ -153,9 +328,8 @@\n       Alert.alert(\"Error\", \"Failed to log out. Try again.\");\r\n     }\r\n   };\r\n \r\n-  // For drivers, show driver info (modify the fields as per your Driver model)\r\n   return (\r\n     <View style={styles.container}>\r\n       <View style={styles.profileContainer}>\r\n         <View style={styles.row}>\r\n@@ -180,105 +354,95 @@\n                 <Text style={{ color: \"#fff\" }}>Upload Profile Pic</Text>\r\n               </TouchableOpacity>\r\n             )}\r\n           </View>\r\n-          \r\n         </View>\r\n         <TouchableOpacity style={styles.row} onPress={handleLogout}>\r\n           <Ionicons name=\"log-out-outline\" size={30} color=\"black\" />\r\n           <Text style={styles.lagout}>LogOut</Text>\r\n         </TouchableOpacity>\r\n-        \r\n       </View>\r\n \r\n-      <View style={styles.accountContainer}>\r\n+      <ScrollView style={styles.accountContainer} contentContainerStyle={{ paddingBottom: 40 }}>\r\n         <Text style={styles.sectionTitle}>Personal Information</Text>\r\n \r\n+        {/* Full Name */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Full Name:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[\r\n               styles.value,\r\n-              { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.driverLastName) ? \"#000\" : \"#999\" },\r\n+              { color: (profile?.driverFirstName || profile?.driverMiddleName || profile?.driverLastName) ? \"#000\" : \"#999\" }\r\n             ]}>\r\n               {profile?.driverFirstName || \"\"} {profile?.driverMiddleName || \"\"} {profile?.driverLastName || \"\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openName} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Gender */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Gender:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.gender ? \"#000\" : \"#999\" }]}>\r\n               {profile?.gender || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openGender} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n-        {/* <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Age:</Text>\r\n-          <View style={styles.row}>\r\n-            <Text style={[styles.value, { color: profile?.age ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.age || \"Set Now\"}\r\n-            </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n-          </View>\r\n-        </View> */}\r\n-\r\n+        {/* Phone */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Contact Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.driverPhone ? \"#000\" : \"#999\" }]}>\r\n               {profile?.driverPhone || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openPhone} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Birthday */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Birthday:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.driverBirthdate ? \"#000\" : \"#999\" }]}>\r\n-              {profile?.driverBirthdate ? profile.driverBirthdate.slice(0, 10) : \"Not Provided\"}\r\n+              {profile?.driverBirthdate ? (fmtDate(profile.driverBirthdate) || profile.driverBirthdate) : \"Not Provided\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openBday} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Email + verify */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Email Address:</Text>\r\n           <View style={{ alignItems: \"flex-end\" }}>\r\n             <Text style={[styles.value, { color: profile?.email ? \"#000\" : \"#999\" }]}>\r\n               {profile?.email || \"Set Now\"}\r\n             </Text>\r\n-\r\n             <View style={{ flexDirection: \"row\", alignItems: \"center\", marginTop: 4 }}>\r\n-              <View\r\n-                style={{\r\n-                  paddingHorizontal: 8,\r\n-                  paddingVertical: 2,\r\n-                  borderRadius: 12,\r\n-                  backgroundColor: profile?.isVerified ? \"#E6F7E9\" : \"#FFF4E5\",\r\n-                  marginRight: 8,\r\n-                }}\r\n-              >\r\n+              <View style={{\r\n+                paddingHorizontal: 8, paddingVertical: 2, borderRadius: 12,\r\n+                backgroundColor: profile?.isVerified ? \"#E6F7E9\" : \"#FFF4E5\",\r\n+                marginRight: 8,\r\n+              }}>\r\n                 <Text style={{ color: profile?.isVerified ? \"#2E7D32\" : \"#B26A00\", fontSize: 12 }}>\r\n                   {profile?.isVerified ? \"Verified\" : \"Not verified\"}\r\n                 </Text>\r\n               </View>\r\n-\r\n               {!profile?.isVerified && (\r\n                 <TouchableOpacity\r\n                   disabled={emailSending}\r\n                   onPress={resendDriverEmail}\r\n-                  style={{\r\n-                    paddingHorizontal: 10,\r\n-                    paddingVertical: 6,\r\n-                    borderRadius: 8,\r\n-                    backgroundColor: emailSending ? \"#ccc\" : \"#5089A3\",\r\n-                  }}\r\n+                  style={{ paddingHorizontal: 10, paddingVertical: 6, borderRadius: 8, backgroundColor: emailSending ? \"#ccc\" : \"#5089A3\" }}\r\n                 >\r\n                   <Text style={{ color: \"#fff\", fontSize: 12 }}>\r\n                     {emailSending ? \"Sending...\" : \"Verify email\"}\r\n                   </Text>\r\n@@ -287,62 +451,253 @@\n             </View>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Address */}\r\n+        <View style={styles.infoRow}>\r\n+          <Text style={styles.label}>Home Address:</Text>\r\n+          <View style={styles.row}>\r\n+            <Text style={[styles.value, { color: profile?.homeAddress ? \"#000\" : \"#999\" }]}>\r\n+              {profile?.homeAddress || \"Set Now\"}\r\n+            </Text>\r\n+            <TouchableOpacity onPress={openAddr} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n+          </View>\r\n+        </View>\r\n \r\n         <Text style={styles.sectionTitle}>Vehicle Details</Text>\r\n \r\n+        {/* License ID */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>License Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.licenseId ? \"#000\" : \"#999\" }]}>\r\n               {profile?.licenseId || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openVeh} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Franchise */}\r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Francise Number:</Text>\r\n+          <Text style={styles.label}>Franchise Number:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.franchiseNumber ? \"#000\" : \"#999\" }]}>\r\n               {profile?.franchiseNumber || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openVeh} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* TODA */}\r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Toda Name:</Text>\r\n+          <Text style={styles.label}>TODA Name:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.todaName ? \"#000\" : \"#999\" }]}>\r\n               {profile?.todaName || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openVeh} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Sector */}\r\n         <View style={styles.infoRow}>\r\n           <Text style={styles.label}>Sector:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.sector ? \"#000\" : \"#999\" }]}>\r\n               {profile?.sector || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openVeh} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n \r\n+        {/* Experience */}\r\n         <View style={styles.infoRow}>\r\n-          <Text style={styles.label}>Experiece:</Text>\r\n+          <Text style={styles.label}>Experience:</Text>\r\n           <View style={styles.row}>\r\n             <Text style={[styles.value, { color: profile?.experienceYears ? \"#000\" : \"#999\" }]}>\r\n               {profile?.experienceYears || \"Set Now\"}\r\n             </Text>\r\n-            <MaterialIcons name=\"edit\" size={20} color=\"#888\" style={{ marginLeft: 5 }} />\r\n+            <TouchableOpacity onPress={openVeh} style={{ marginLeft: 5 }}>\r\n+              <MaterialIcons name=\"edit\" size={20} color=\"#888\" />\r\n+            </TouchableOpacity>\r\n           </View>\r\n         </View>\r\n-        {/* Add more driver-specific fields as needed! */}\r\n-      </View>\r\n+      </ScrollView>\r\n+\r\n+      {/* ------- Modals ------- */}\r\n+\r\n+      {/* Name */}\r\n+      <Modal transparent visible={nameOpen} animationType=\"fade\" onRequestClose={() => !savingName && setNameOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Edit Name</Text>\r\n+\r\n+            <TextInput placeholder=\"First name\" value={firstNameEdit} onChangeText={setFirstNameEdit} style={styles.input} />\r\n+            <TextInput placeholder=\"Middle name (optional)\" value={middleNameEdit} onChangeText={setMiddleNameEdit} style={styles.input} />\r\n+            <TextInput placeholder=\"Last name\" value={lastNameEdit} onChangeText={setLastNameEdit} style={styles.input} />\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity disabled={savingName} onPress={() => setNameOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingName} onPress={saveName} style={styles.btnPrimary}>\r\n+                {savingName ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+      {/* Gender */}\r\n+      <Modal transparent visible={genderOpen} animationType=\"fade\" onRequestClose={() => !savingGender && setGenderOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Select Gender</Text>\r\n+\r\n+            {[\"Male\",\"Female\",\"Nonbinary\",\"Prefer not to say\",\"Other\"].map((opt) => (\r\n+              <TouchableOpacity key={opt} onPress={() => setGenderChoice(opt)} style={{ flexDirection:\"row\", alignItems:\"center\", paddingVertical:8 }}>\r\n+                <View style={styles.radioOuter}>\r\n+                  {genderChoice === opt ? <View style={styles.radioInner} /> : null}\r\n+                </View>\r\n+                <Text>{opt}</Text>\r\n+              </TouchableOpacity>\r\n+            ))}\r\n+\r\n+            {genderChoice === \"Other\" && (\r\n+              <TextInput placeholder=\"Enter your gender\" value={genderOther} onChangeText={setGenderOther} style={[styles.input, { marginTop:8 }]} />\r\n+            )}\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity disabled={savingGender} onPress={() => setGenderOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingGender} onPress={saveGender} style={styles.btnPrimary}>\r\n+                {savingGender ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+      {/* Birthday (iOS styled modal) */}\r\n+      <Modal transparent visible={bdayOpen && Platform.OS === \"ios\"} animationType=\"fade\" onRequestClose={() => !savingBday && setBdayOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Select Birthday</Text>\r\n+\r\n+            {bdayValue && (\r\n+              <DateTimePicker\r\n+                mode=\"date\"\r\n+                value={bdayValue}\r\n+                display=\"spinner\"\r\n+                onChange={(_, d) => d && setBdayValue(d)}\r\n+                maximumDate={new Date()}\r\n+              />\r\n+            )}\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity disabled={savingBday} onPress={() => setBdayOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingBday} onPress={saveBday} style={styles.btnPrimary}>\r\n+                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+      {/* Android Date Picker */}\r\n+      {Platform.OS === \"android\" && showAndroidBday && (\r\n+        <DateTimePicker\r\n+          mode=\"date\"\r\n+          value={bdayValue ?? new Date()}\r\n+          display=\"calendar\"\r\n+          maximumDate={new Date()}\r\n+          onChange={(_, date) => {\r\n+            setShowAndroidBday(false);\r\n+            if (date) {\r\n+              setBdayValue(date);\r\n+              saveBday();\r\n+            }\r\n+          }}\r\n+        />\r\n+      )}\r\n+\r\n+      {/* Phone */}\r\n+      <Modal transparent visible={phoneOpen} animationType=\"fade\" onRequestClose={() => !savingPhone && setPhoneOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Edit Contact Number</Text>\r\n+            <TextInput placeholder=\"Phone number\" keyboardType=\"phone-pad\" value={phoneValue} onChangeText={setPhoneValue} style={styles.input} />\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity disabled={savingPhone} onPress={() => setPhoneOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingPhone} onPress={savePhone} style={styles.btnPrimary}>\r\n+                {savingPhone ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+      {/* Address */}\r\n+      <Modal transparent visible={addrOpen} animationType=\"fade\" onRequestClose={() => !savingAddr && setAddrOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Edit Home Address</Text>\r\n+            <TextInput placeholder=\"Home address\" value={addrValue} onChangeText={setAddrValue} style={styles.input} />\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity disabled={savingAddr} onPress={() => setAddrOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingAddr} onPress={saveAddr} style={styles.btnPrimary}>\r\n+                {savingAddr ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+      {/* Vehicle details */}\r\n+      <Modal transparent visible={vehOpen} animationType=\"fade\" onRequestClose={() => !savingVeh && setVehOpen(false)}>\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Vehicle / Franchise</Text>\r\n+\r\n+            <TextInput placeholder=\"License Number\" value={licenseValue} onChangeText={setLicenseValue} style={styles.input} />\r\n+            <TextInput placeholder=\"Franchise Number\" value={franchiseValue} onChangeText={setFranchiseValue} style={styles.input} />\r\n+            <TextInput placeholder=\"TODA Name\" value={todaValue} onChangeText={setTodaValue} style={styles.input} />\r\n+\r\n+            <Text style={{ marginTop: 8, marginBottom: 6, fontWeight: \"600\" }}>Sector</Text>\r\n+            {SECTORS.map((s) => (\r\n+              <TouchableOpacity key={s} onPress={() => setSectorValue(s)} style={{ flexDirection:\"row\", alignItems:\"center\", paddingVertical:6 }}>\r\n+                <View style={styles.radioOuter}>{sectorValue === s ? <View style={styles.radioInner} /> : null}</View>\r\n+                <Text>{s}</Text>\r\n+              </TouchableOpacity>\r\n+            ))}\r\n+\r\n+            <Text style={{ marginTop: 12, marginBottom: 6, fontWeight: \"600\" }}>Experience</Text>\r\n+            {EXP_YEARS.map((e) => (\r\n+              <TouchableOpacity key={e} onPress={() => setExpValue(e)} style={{ flexDirection:\"row\", alignItems:\"center\", paddingVertical:6 }}>\r\n+                <View style={styles.radioOuter}>{expValue === e ? <View style={styles.radioInner} /> : null}</View>\r\n+                <Text>{e}</Text>\r\n+              </TouchableOpacity>\r\n+            ))}\r\n+\r\n+            <View style={[styles.modalBtns, { marginTop: 12 }]}>\r\n+              <TouchableOpacity disabled={savingVeh} onPress={() => setVehOpen(false)} style={styles.btnGhost}><Text>Cancel</Text></TouchableOpacity>\r\n+              <TouchableOpacity disabled={savingVeh} onPress={saveVeh} style={styles.btnPrimary}>\r\n+                {savingVeh ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n     </View>\r\n   );\r\n }\r\n \r\n@@ -355,10 +710,21 @@\n   uploadButton: { backgroundColor: \"#5089A3\", borderRadius: 8, padding: 10, marginTop: 10 },\r\n   accountContainer: { marginTop: 10, paddingHorizontal: 20 },\r\n   sectionTitle: { fontWeight: \"bold\", fontSize: 16, marginVertical: 10 },\r\n   infoRow: { flexDirection: \"row\", justifyContent: \"space-between\", paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: \"#eee\" },\r\n-  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\"},\r\n+  row: { flexDirection: \"row\", alignItems: \"center\", justifyContent: \"center\" },\r\n   label: { fontSize: 14, color: \"#333\" },\r\n-  value: { fontSize: 14, color: \"#333\" },\r\n-  deleteButton: { flexDirection: \"row\", justifyContent:'flex-end', alignItems: \"center\", marginTop: 20, width: width-40},\r\n-  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n\\ No newline at end of file\n-});\n+  value: { fontSize: 14, color: \"#333\", maxWidth: width * 0.55 },\r\n+\r\n+  // modal\r\n+  modalBack: { flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 },\r\n+  modalCard: { width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 },\r\n+  modalTitle: { fontWeight:\"bold\", fontSize:16, marginBottom:8 },\r\n+  input: { borderWidth:1, borderColor:\"#ddd\", borderRadius:8, paddingHorizontal:12, paddingVertical:10, marginBottom:8 },\r\n+\r\n+  modalBtns: { flexDirection:\"row\", justifyContent:\"flex-end\", gap: 12 },\r\n+  btnGhost: { paddingVertical:10, paddingHorizontal:14 },\r\n+  btnPrimary: { backgroundColor:\"#5089A3\", paddingVertical:10, paddingHorizontal:14, borderRadius:8, minWidth:90, alignItems:\"center\" },\r\n+\r\n+  radioOuter: { width:18, height:18, borderRadius:9, borderWidth:2, borderColor:\"#5089A3\", alignItems:\"center\", justifyContent:\"center\", marginRight:10 },\r\n+  radioInner: { width:10, height:10, borderRadius:5, backgroundColor:\"#5089A3\" },\r\n+});\r\n"
                },
                {
                    "date": 1757010422819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,14 +226,11 @@\n   const openBday = () => {\r\n     const d = profile?.driverBirthdate ? new Date(profile.driverBirthdate) : null;\r\n     const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n     setBdayValue(initial);\r\n-    if (Platform.OS === \"android\") {\r\n-      setShowAndroidBday(true);\r\n-    } else {\r\n-      setBdayOpen(true);\r\n-    }\r\n+    setBdayOpen(true);   // ✅ always use the modal\r\n   };\r\n+\r\n   const saveBday = async () => {\r\n     if (!bdayValue) return;\r\n     const yyyy = bdayValue.getFullYear();\r\n     const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n"
                },
                {
                    "date": 1757010568511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -623,8 +623,49 @@\n           }}\r\n         />\r\n       )}\r\n \r\n+      <Modal\r\n+        transparent\r\n+        visible={bdayOpen}\r\n+        animationType=\"fade\"\r\n+        onRequestClose={() => !savingBday && setBdayOpen(false)}\r\n+      >\r\n+        <View style={styles.modalBack}>\r\n+          <View style={styles.modalCard}>\r\n+            <Text style={styles.modalTitle}>Select Birthday</Text>\r\n+\r\n+            {bdayValue && (\r\n+              <DateTimePicker\r\n+                mode=\"date\"\r\n+                value={bdayValue}\r\n+                display={Platform.OS === \"ios\" ? \"spinner\" : \"calendar\"}\r\n+                maximumDate={new Date()}\r\n+                onChange={(_, d) => d && setBdayValue(d)}  // ✅ only update date\r\n+              />\r\n+            )}\r\n+\r\n+            <View style={styles.modalBtns}>\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={() => setBdayOpen(false)}\r\n+                style={styles.btnGhost}\r\n+              >\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={saveBday}              // ✅ explicit Save\r\n+                style={styles.btnPrimary}\r\n+              >\r\n+                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n       {/* Phone */}\r\n       <Modal transparent visible={phoneOpen} animationType=\"fade\" onRequestClose={() => !savingPhone && setPhoneOpen(false)}>\r\n         <View style={styles.modalBack}>\r\n           <View style={styles.modalCard}>\r\n"
                },
                {
                    "date": 1757011049452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,12 +34,13 @@\n   const [genderChoice, setGenderChoice] = useState<string>(\"\");\r\n   const [genderOther, setGenderOther] = useState(\"\");\r\n   const [savingGender, setSavingGender] = useState(false);\r\n \r\n-  const [bdayOpen, setBdayOpen] = useState(false);          // iOS custom modal\r\n+  const [bdayOpen, setBdayOpen] = useState(false);           // if you don’t already have it\r\n   const [bdayValue, setBdayValue] = useState<Date | null>(null);\r\n   const [savingBday, setSavingBday] = useState(false);\r\n-  const [showAndroidBday, setShowAndroidBday] = useState(false); // Android native dialog\r\n+  const [showAndroidBday, setShowAndroidBday] = useState(false);\r\n+  const [androidBdayConfirmOpen, setAndroidBdayConfirmOpen] = useState(false);\r\n \r\n   const [phoneOpen, setPhoneOpen] = useState(false);\r\n   const [phoneValue, setPhoneValue] = useState(\"\");\r\n   const [savingPhone, setSavingPhone] = useState(false);\r\n"
                },
                {
                    "date": 1757011131632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,11 +227,17 @@\n   const openBday = () => {\r\n     const d = profile?.driverBirthdate ? new Date(profile.driverBirthdate) : null;\r\n     const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n     setBdayValue(initial);\r\n-    setBdayOpen(true);   // ✅ always use the modal\r\n+\r\n+    if (Platform.OS === \"android\") {\r\n+      setShowAndroidBday(true);               // native calendar -> then confirm modal\r\n+    } else {\r\n+      setBdayOpen(true);                      // iOS: your existing modal with Save/Cancel\r\n+    }\r\n   };\r\n \r\n+\r\n   const saveBday = async () => {\r\n     if (!bdayValue) return;\r\n     const yyyy = bdayValue.getFullYear();\r\n     const mm = String(bdayValue.getMonth()+1).padStart(2,\"0\");\r\n"
                },
                {
                    "date": 1757011165496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -229,11 +229,11 @@\n     const initial = d && !Number.isNaN(d.getTime()) ? d : new Date();\r\n     setBdayValue(initial);\r\n \r\n     if (Platform.OS === \"android\") {\r\n-      setShowAndroidBday(true);               // native calendar -> then confirm modal\r\n+      setShowAndroidBday(true);               \r\n     } else {\r\n-      setBdayOpen(true);                      // iOS: your existing modal with Save/Cancel\r\n+      setBdayOpen(true);                      \r\n     }\r\n   };\r\n \r\n \r\n"
                },
                {
                    "date": 1757011210227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -621,58 +621,19 @@\n           value={bdayValue ?? new Date()}\r\n           display=\"calendar\"\r\n           maximumDate={new Date()}\r\n           onChange={(_, date) => {\r\n-            setShowAndroidBday(false);\r\n+            setShowAndroidBday(false);            // always close picker\r\n             if (date) {\r\n-              setBdayValue(date);\r\n-              saveBday();\r\n+              setBdayValue(date);                 // keep picked date\r\n+              setAndroidBdayConfirmOpen(true);    // now show confirm modal\r\n             }\r\n           }}\r\n         />\r\n       )}\r\n \r\n-      <Modal\r\n-        transparent\r\n-        visible={bdayOpen}\r\n-        animationType=\"fade\"\r\n-        onRequestClose={() => !savingBday && setBdayOpen(false)}\r\n-      >\r\n-        <View style={styles.modalBack}>\r\n-          <View style={styles.modalCard}>\r\n-            <Text style={styles.modalTitle}>Select Birthday</Text>\r\n \r\n-            {bdayValue && (\r\n-              <DateTimePicker\r\n-                mode=\"date\"\r\n-                value={bdayValue}\r\n-                display={Platform.OS === \"ios\" ? \"spinner\" : \"calendar\"}\r\n-                maximumDate={new Date()}\r\n-                onChange={(_, d) => d && setBdayValue(d)}  // ✅ only update date\r\n-              />\r\n-            )}\r\n \r\n-            <View style={styles.modalBtns}>\r\n-              <TouchableOpacity\r\n-                disabled={savingBday}\r\n-                onPress={() => setBdayOpen(false)}\r\n-                style={styles.btnGhost}\r\n-              >\r\n-                <Text>Cancel</Text>\r\n-              </TouchableOpacity>\r\n-              <TouchableOpacity\r\n-                disabled={savingBday}\r\n-                onPress={saveBday}              // ✅ explicit Save\r\n-                style={styles.btnPrimary}\r\n-              >\r\n-                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n-              </TouchableOpacity>\r\n-            </View>\r\n-          </View>\r\n-        </View>\r\n-      </Modal>\r\n-\r\n-\r\n       {/* Phone */}\r\n       <Modal transparent visible={phoneOpen} animationType=\"fade\" onRequestClose={() => !savingPhone && setPhoneOpen(false)}>\r\n         <View style={styles.modalBack}>\r\n           <View style={styles.modalCard}>\r\n"
                },
                {
                    "date": 1757011219499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -621,12 +621,12 @@\n           value={bdayValue ?? new Date()}\r\n           display=\"calendar\"\r\n           maximumDate={new Date()}\r\n           onChange={(_, date) => {\r\n-            setShowAndroidBday(false);            // always close picker\r\n+            setShowAndroidBday(false);            \r\n             if (date) {\r\n-              setBdayValue(date);                 // keep picked date\r\n-              setAndroidBdayConfirmOpen(true);    // now show confirm modal\r\n+              setBdayValue(date);                 \r\n+              setAndroidBdayConfirmOpen(true);    \r\n             }\r\n           }}\r\n         />\r\n       )}\r\n"
                },
                {
                    "date": 1757011233505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -630,10 +630,51 @@\n           }}\r\n         />\r\n       )}\r\n \r\n+      <Modal\r\n+        transparent\r\n+        visible={androidBdayConfirmOpen}\r\n+        animationType=\"fade\"\r\n+        onRequestClose={() => !savingBday && setAndroidBdayConfirmOpen(false)}\r\n+      >\r\n+        <View style={{ flex:1, backgroundColor:\"rgba(0,0,0,0.4)\", justifyContent:\"center\", alignItems:\"center\", padding:20 }}>\r\n+          <View style={{ width:\"100%\", maxWidth:420, backgroundColor:\"#fff\", borderRadius:12, padding:16 }}>\r\n+            <Text style={{ fontWeight:\"bold\", fontSize:16, marginBottom:12 }}>Confirm Birthday</Text>\r\n \r\n+            <Text style={{ fontSize:14, marginBottom:16 }}>\r\n+              {bdayValue\r\n+                ? bdayValue.toLocaleDateString(undefined, { year:\"numeric\", month:\"short\", day:\"2-digit\" })\r\n+                : \"—\"}\r\n+            </Text>\r\n \r\n+            <View style={{ flexDirection:\"row\", justifyContent:\"flex-end\" }}>\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={() => setAndroidBdayConfirmOpen(false)}\r\n+                style={{ padding:10, marginRight:8 }}\r\n+              >\r\n+                <Text>Cancel</Text>\r\n+              </TouchableOpacity>\r\n+\r\n+              <TouchableOpacity\r\n+                disabled={savingBday}\r\n+                onPress={async () => {\r\n+                  await saveBday();                 // uses your existing saveBday()\r\n+                  setAndroidBdayConfirmOpen(false); // close after save\r\n+                }}\r\n+                style={{ backgroundColor:\"#5089A3\", padding:10, borderRadius:8, minWidth:90, alignItems:\"center\" }}\r\n+              >\r\n+                {savingBday ? <ActivityIndicator color=\"#fff\" /> : <Text style={{ color:\"#fff\" }}>Save</Text>}\r\n+              </TouchableOpacity>\r\n+            </View>\r\n+          </View>\r\n+        </View>\r\n+      </Modal>\r\n+\r\n+\r\n+\r\n+\r\n       {/* Phone */}\r\n       <Modal transparent visible={phoneOpen} animationType=\"fade\" onRequestClose={() => !savingPhone && setPhoneOpen(false)}>\r\n         <View style={styles.modalBack}>\r\n           <View style={styles.modalCard}>\r\n"
                }
            ],
            "date": 1748350667311,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions } from 'react-native';\r\nimport { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\r\nimport { router } from 'expo-router'; \r\nconst { width, height } = Dimensions.get(\"window\");\r\n\r\nexport default function PHistory() {\r\n  return (\r\n    <View style={styles.container}>\r\n        <Text>Passenger Profile Page</Text>\r\n        <View style={styles.bottomNav}>\r\n            <TouchableOpacity onPress={() => router.push(\"/homedriver/dhome\")}><Ionicons name=\"home-outline\" size={30} color=\"black\" /><Text>Home</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homedriver/dhistory\")}><Ionicons name=\"document-text-outline\" size={30} color=\"black\" /><Text>History</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homedriver/dchats\")}><Ionicons name=\"chatbubbles\" size={30} color=\"black\" /><Text>Chats</Text></TouchableOpacity>\r\n            <TouchableOpacity onPress={() => router.push(\"/homedriver/dprofile\")}><Ionicons name=\"person-outline\" size={30} color=\"black\" /><Text>Profile</Text></TouchableOpacity>\r\n        </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n  bottomNav: { position: \"absolute\", bottom: 0, flexDirection: \"row\", justifyContent: \"space-around\", width: width, height: 70, backgroundColor: \"white\", borderTopLeftRadius: 30, borderTopRightRadius: 30, alignItems: \"center\", borderWidth: 1, borderColor: \"black\" },\r\n});\r\n"
        }
    ]
}